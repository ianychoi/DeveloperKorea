{"hash":"e7ad1219fa8af794a72a1cf6e09eab7aefcdacff","data":{"blog":{"title":"애저 펑션과 애저 이벤트그리드간 CloudEvents 형식 이벤트 데이터 주고받기","path":"/posts/2021/01/19/cloudevents-for-azure-eventgrid-via-azure-functions/","image":"https://sa0blogs.blob.core.windows.net/aliencube/2021/01/dealing-cloudevents-with-azure-functions-for-azure-eventgrid-00.png","image_caption":"애저 펑션에서 이벤트 그리드로, 다시 애저 펑션으로 클라우드 이벤트 형식 데이터 이동","description":"이 포스트에서는 애저 펑션의 이벤트그리드 바인딩이 아직 지원하지 않는 CloudEvents 형식의 이벤트 데이터를 다루는 방법에 대해 알아봅니다.","content":"<p><a href=\"https://docs.microsoft.com/ko-kr/azure/azure-functions/functions-overview?WT.mc_id=dotnet-12565-juyoo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">애저 펑션</a>은 자체적으로 <a href=\"https://docs.microsoft.com/ko-kr/azure/event-grid/overview?WT.mc_id=dotnet-12565-juyoo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">애저 이벤트그리드</a>에 대한 <a href=\"https://docs.microsoft.com/ko-kr/azure/azure-functions/functions-bindings-event-grid?WT.mc_id=dotnet-12565-juyoo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">바인딩 확장 기능</a>을 제공하고 있어서 이벤트그리드로 이벤트 데이터를 아주 손쉽게 주고 받을 수 있습니다. 하지만, 현재 바인딩 확장 기능은 아직 정식으로 <a href=\"https://cloudevents.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CloudEvents</a> 형식을 지원하지 않는데, 그 이유는 <a href=\"https://www.nuget.org/packages/Microsoft.Azure.EventGrid/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">현재 버전의 SDK</a>가 아직 CloudEvents 형식을 지원하지 않기 때문입니다. 아마도 <a href=\"https://www.nuget.org/packages/Azure.Messaging.EventGrid/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">새 버전의 SDK</a>가 GA되는 시점이 되면 애저 펑션 확장 기능에서도 이를 지원하지 않을까 예상하는데요, 따라서, 그 때 까지는 CloudEvents 형식을 사용해서 이벤트그리드에 데이터를 주고 받기 위해서 별도의 작업을 해 줘야 합니다. 이 포스트에서는 그 방법에 대해 간단히 정리해 보도록 하겠습니다.</p>\n<blockquote>\n<p>이 포스트에서는 <a href=\"https://github.com/Azure/azure-sdk-for-net/tree/master/sdk/eventgrid/Azure.Messaging.EventGrid\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">.NET SDK</a>를 대상으로 기술합니다. 다른 언어로도 SDK를 지원하고 있으니, 아래 링크를 클릭해서 새 SDK를 확인해 보세요!</p>\n<ul>\n<li><a href=\"https://github.com/Azure/azure-sdk-for-js/tree/master/sdk/eventgrid/eventgrid\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">JavaScript</a></li>\n<li><a href=\"https://github.com/Azure/azure-sdk-for-python/tree/master/sdk/eventgrid/azure-eventgrid\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Python</a></li>\n<li><a href=\"https://github.com/Azure/azure-sdk-for-java/tree/master/sdk/eventgrid/azure-messaging-eventgrid\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Java</a></li>\n</ul>\n</blockquote>\n<h2 id=\"애저-이벤트그리드-sdk-프리뷰-버전-설치\"><a href=\"#%EC%95%A0%EC%A0%80-%EC%9D%B4%EB%B2%A4%ED%8A%B8%EA%B7%B8%EB%A6%AC%EB%93%9C-sdk-%ED%94%84%EB%A6%AC%EB%B7%B0-%EB%B2%84%EC%A0%84-%EC%84%A4%EC%B9%98\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>애저 이벤트그리드 SDK 프리뷰 버전 설치</h2>\n<p>이 글을 쓰는 현재 새 버전의 애저 이벤트그리드 SDK 버전은 <a href=\"https://www.nuget.org/packages/Azure.Messaging.EventGrid/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"language-text\">4.0.0-beta.4</code></a>로, 아직 프리뷰 상태입니다. 이 프리뷰 버전의 SDK를 사용하면 CloudEvents 형식의 이벤트 데이터를 활용할 수 있죠. 먼저 아래 명령어를 통해 프리뷰 버전의 SDK를 설치합니다.</p>\n<div class=\"gist-embed\">\n    <div id=\"gist107311606\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-01-dotnet-add-package-sh\" class=\"file my-2\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-shell  \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip>\n      <tr>\n        <td id=\"file-01-dotnet-add-package-sh-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-01-dotnet-add-package-sh-LC1\" class=\"blob-code blob-code-inner js-file-line\">dotnet add package Azure.Messaging.EventGrid --version 4.0.0-beta.4</td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/8282de7244bccca562cd508e64d89470/raw/33d50576a9beb45d73ac1ce6983bf633b9316921/01-dotnet-add-package.sh\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/8282de7244bccca562cd508e64d89470#file-01-dotnet-add-package-sh\">01-dotnet-add-package.sh</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</div>\n<p>이제 본격적으로 이벤트그리드 데이터를 작업해 보도록 하겠습니다!</p>\n<h2 id=\"cloudevents-형식으로-이벤트-데이터-보내기\"><a href=\"#cloudevents-%ED%98%95%EC%8B%9D%EC%9C%BC%EB%A1%9C-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%B3%B4%EB%82%B4%EA%B8%B0\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>CloudEvents 형식으로 이벤트 데이터 보내기</h2>\n<p>애저 CLI에서 이벤트그리드 명령어를 사용하기 위해서는 먼저 아래와 같이 <a href=\"https://docs.microsoft.com/ko-kr/cli/azure/azure-cli-extensions-list?WT.mc_id=dotnet-12565-juyoo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">확장 기능</a>을 설치해야 합니다.</p>\n<div class=\"gist-embed\">\n    <div id=\"gist107311606\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-02-az-extension-add-sh\" class=\"file my-2\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-shell  \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip>\n      <tr>\n        <td id=\"file-02-az-extension-add-sh-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-02-az-extension-add-sh-LC1\" class=\"blob-code blob-code-inner js-file-line\">az extension add -n eventgrid</td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/8282de7244bccca562cd508e64d89470/raw/33d50576a9beb45d73ac1ce6983bf633b9316921/02-az-extension-add.sh\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/8282de7244bccca562cd508e64d89470#file-02-az-extension-add-sh\">02-az-extension-add.sh</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</div>\n<p>확장 기능을 설치하고 나면, 아래 <a href=\"https://docs.microsoft.com/ko-kr/cli/azure/what-is-azure-cli?WT.mc_id=dotnet-12565-juyoo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">애저 CLI</a> 명령어를 통해 이벤트그리드 커스텀 토픽의 엔드포인트를 확인합니다.</p>\n<div class=\"gist-embed\">\n    <div id=\"gist107311606\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-03-get-endpoint-sh\" class=\"file my-2\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-shell  \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip>\n      <tr>\n        <td id=\"file-03-get-endpoint-sh-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-03-get-endpoint-sh-LC1\" class=\"blob-code blob-code-inner js-file-line\">endpoint=<span class=\"pl-s\"><span class=\"pl-pds\">$(</span>az eventgrid topic show \\</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-03-get-endpoint-sh-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-03-get-endpoint-sh-LC2\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">    -g <span class=\"pl-k\">&lt;</span>resource_group_name<span class=\"pl-k\">&gt;</span> \\</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-03-get-endpoint-sh-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-03-get-endpoint-sh-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">    -n <span class=\"pl-k\">&lt;</span>eventgrid_topic_name<span class=\"pl-k\">&gt;</span> \\</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-03-get-endpoint-sh-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-03-get-endpoint-sh-LC4\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">    --query <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>endpoint<span class=\"pl-pds\">&quot;</span></span> -o tsv<span class=\"pl-pds\">)</span></span></td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/8282de7244bccca562cd508e64d89470/raw/33d50576a9beb45d73ac1ce6983bf633b9316921/03-get-endpoint.sh\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/8282de7244bccca562cd508e64d89470#file-03-get-endpoint-sh\">03-get-endpoint.sh</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</div>\n<p>그리고, 접속 키는 아래 명령어를 이용해서 확인합니다.</p>\n<div class=\"gist-embed\">\n    <div id=\"gist107311606\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-04-get-access-key-sh\" class=\"file my-2\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-shell  \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip>\n      <tr>\n        <td id=\"file-04-get-access-key-sh-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-04-get-access-key-sh-LC1\" class=\"blob-code blob-code-inner js-file-line\">id=<span class=\"pl-s\"><span class=\"pl-pds\">$(</span>az eventgrid topic show \\</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-04-get-access-key-sh-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-04-get-access-key-sh-LC2\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">    -g <span class=\"pl-k\">&lt;</span>resource_group_name<span class=\"pl-k\">&gt;</span> \\</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-04-get-access-key-sh-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-04-get-access-key-sh-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">    -n <span class=\"pl-k\">&lt;</span>eventgrid_topic_name<span class=\"pl-k\">&gt;</span> \\</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-04-get-access-key-sh-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-04-get-access-key-sh-LC4\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">    --query <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>id<span class=\"pl-pds\">&quot;</span></span> -o tsv<span class=\"pl-pds\">)</span></span></td>\n      </tr>\n      <tr>\n        <td id=\"file-04-get-access-key-sh-L5\" class=\"blob-num js-line-number\" data-line-number=\"5\"></td>\n        <td id=\"file-04-get-access-key-sh-LC5\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-04-get-access-key-sh-L6\" class=\"blob-num js-line-number\" data-line-number=\"6\"></td>\n        <td id=\"file-04-get-access-key-sh-LC6\" class=\"blob-code blob-code-inner js-file-line\">key=<span class=\"pl-s\"><span class=\"pl-pds\">$(</span>az rest \\</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-04-get-access-key-sh-L7\" class=\"blob-num js-line-number\" data-line-number=\"7\"></td>\n        <td id=\"file-04-get-access-key-sh-LC7\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">    -m POST \\</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-04-get-access-key-sh-L8\" class=\"blob-num js-line-number\" data-line-number=\"8\"></td>\n        <td id=\"file-04-get-access-key-sh-LC8\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">    -u <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>https://management.azure.com<span class=\"pl-smi\">$id</span>/listKeys?api-version=2020-06-01<span class=\"pl-pds\">&quot;</span></span> \\</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-04-get-access-key-sh-L9\" class=\"blob-num js-line-number\" data-line-number=\"9\"></td>\n        <td id=\"file-04-get-access-key-sh-LC9\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">    --query <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>key1<span class=\"pl-pds\">&quot;</span></span> -o tsv<span class=\"pl-pds\">)</span></span></td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/8282de7244bccca562cd508e64d89470/raw/33d50576a9beb45d73ac1ce6983bf633b9316921/04-get-access-key.sh\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/8282de7244bccca562cd508e64d89470#file-04-get-access-key-sh\">04-get-access-key.sh</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</div>\n<p>위에서 확인한 엔드포인트와 접속 키를 이용해서 아래와 같이 애저 펑션 안에 이벤트그리드용 데이터 퍼블리셔 인스턴스를 만듭니다.</p>\n<div class=\"gist-embed\">\n    <div id=\"gist107311606\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-05-create-publisher-cs\" class=\"file my-2\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-c  \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip>\n      <tr>\n        <td id=\"file-05-create-publisher-cs-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-05-create-publisher-cs-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> <span class=\"pl-smi\">topicEndpoint</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">Uri</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>&lt;endpoint&gt;<span class=\"pl-pds\">&quot;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-05-create-publisher-cs-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-05-create-publisher-cs-LC2\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> <span class=\"pl-smi\">credential</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">AzureKeyCredential</span>(<span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>&lt;key&gt;<span class=\"pl-pds\">&quot;</span></span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-05-create-publisher-cs-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-05-create-publisher-cs-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> <span class=\"pl-smi\">publisher</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">EventGridPublisherClient</span>(<span class=\"pl-smi\">topicEndpoint</span>, <span class=\"pl-smi\">credential</span>);</td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/8282de7244bccca562cd508e64d89470/raw/33d50576a9beb45d73ac1ce6983bf633b9316921/05-create-publisher.cs\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/8282de7244bccca562cd508e64d89470#file-05-create-publisher-cs\">05-create-publisher.cs</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</div>\n<p>CloudEvents 형식의 데이터를 보내기 위해서는 이벤트 데이터 뿐만 아니라 몇 가지 다른 메타 데이터 정보가 필요합니다.</p>\n<ul>\n<li><code class=\"language-text\">source</code>: 이벤트 발생자. 보통 URL 형식으로 작성합니다.</li>\n<li><code class=\"language-text\">type</code>: 이벤트 타입. 이 값을 이용해서 이벤트를 구분합니다. 형식은 <code class=\"language-text\">com.example.someevent</code>와 비슷한 형태가 됩니다.</li>\n<li><code class=\"language-text\">datacontenttype</code>: 항상 <code class=\"language-text\">application/cloudevents+json</code> 값으로 지정해 주면 됩니다.</li>\n</ul>\n<p>이외에도 다른 메타 데이터 정보가 필요하지만, 나머지는 SDK에서 자동으로 처리해주니 여기서는 크게 상관하지 않습니다.</p>\n<blockquote>\n<p>CloudEvents 데이터 형식에 대한 내용을 좀 더 확인하고 싶다면, <a href=\"https://github.com/cloudevents/spec/blob/v1.0/json-format.md#23-examples\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">이 링크</a>를 읽어보세요!</p>\n</blockquote>\n<p>위 메타 데이터 정보를 이용해 아래와 같이 CloudEvents 데이터를 작성한 후 이벤트그리드로 보내면 됩니다.</p>\n<div class=\"gist-embed\">\n    <div id=\"gist107311606\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-06-publish-event-cs\" class=\"file my-2\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-c  \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip>\n      <tr>\n        <td id=\"file-06-publish-event-cs-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-06-publish-event-cs-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> <span class=\"pl-smi\">source</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>&lt;source&gt;<span class=\"pl-pds\">&quot;</span></span>;</td>\n      </tr>\n      <tr>\n        <td id=\"file-06-publish-event-cs-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-06-publish-event-cs-LC2\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> <span class=\"pl-smi\">type</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>&lt;type&gt;<span class=\"pl-pds\">&quot;</span></span>;</td>\n      </tr>\n      <tr>\n        <td id=\"file-06-publish-event-cs-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-06-publish-event-cs-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> <span class=\"pl-smi\">dataContentType</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>application/cloudevents+json<span class=\"pl-pds\">&quot;</span></span>;</td>\n      </tr>\n      <tr>\n        <td id=\"file-06-publish-event-cs-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-06-publish-event-cs-LC4\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-06-publish-event-cs-L5\" class=\"blob-num js-line-number\" data-line-number=\"5\"></td>\n        <td id=\"file-06-publish-event-cs-LC5\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> <span class=\"pl-smi\">data</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">MyData</span>() { <span class=\"pl-smi\">Hello</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>World<span class=\"pl-pds\">&quot;</span></span> };</td>\n      </tr>\n      <tr>\n        <td id=\"file-06-publish-event-cs-L6\" class=\"blob-num js-line-number\" data-line-number=\"6\"></td>\n        <td id=\"file-06-publish-event-cs-LC6\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-06-publish-event-cs-L7\" class=\"blob-num js-line-number\" data-line-number=\"7\"></td>\n        <td id=\"file-06-publish-event-cs-LC7\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> <span class=\"pl-smi\">@event</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">CloudEvent</span>(<span class=\"pl-smi\">source</span>, <span class=\"pl-smi\">type</span>, <span class=\"pl-smi\">data</span>, <span class=\"pl-smi\">dataContentType</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-06-publish-event-cs-L8\" class=\"blob-num js-line-number\" data-line-number=\"8\"></td>\n        <td id=\"file-06-publish-event-cs-LC8\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">var</span> <span class=\"pl-smi\">events</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">List</span>&lt;<span class=\"pl-en\">CloudEvent</span>&gt;() { <span class=\"pl-smi\">@event</span> };</td>\n      </tr>\n      <tr>\n        <td id=\"file-06-publish-event-cs-L9\" class=\"blob-num js-line-number\" data-line-number=\"9\"></td>\n        <td id=\"file-06-publish-event-cs-LC9\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-06-publish-event-cs-L10\" class=\"blob-num js-line-number\" data-line-number=\"10\"></td>\n        <td id=\"file-06-publish-event-cs-LC10\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">await</span> <span class=\"pl-smi\">publisher</span>.<span class=\"pl-en\">SendEventsAsync</span>(<span class=\"pl-smi\">events</span>).<span class=\"pl-en\">ConfigureAwait</span>(<span class=\"pl-c1\">false</span>);</td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/8282de7244bccca562cd508e64d89470/raw/33d50576a9beb45d73ac1ce6983bf633b9316921/06-publish-event.cs\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/8282de7244bccca562cd508e64d89470#file-06-publish-event-cs\">06-publish-event.cs</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</div>\n<p>위의 방법을 통해 CloudEvents 형식의 이벤트 데이터를 이벤트그리드 커스텀 토픽으로 보낼 수 있게 됐습니다.</p>\n<h2 id=\"cloudevents-형식으로-이벤트-데이터-받기\"><a href=\"#cloudevents-%ED%98%95%EC%8B%9D%EC%9C%BC%EB%A1%9C-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%B0%9B%EA%B8%B0\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>CloudEvents 형식으로 이벤트 데이터 받기</h2>\n<p>앞서 <a href=\"https://docs.microsoft.com/ko-kr/azure/azure-functions/functions-overview?WT.mc_id=dotnet-12565-juyoo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">애저 펑션</a>에서는 <a href=\"https://docs.microsoft.com/ko-kr/azure/azure-functions/functions-bindings-event-grid?WT.mc_id=dotnet-12565-juyoo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">이벤트그리드 바인딩 확장 기능의 제약</a>이 있다고 했습니다. 때문에 CloudEvents 형식의 데이터를 받아 처리하기 위해서는 <a href=\"https://docs.microsoft.com/ko-kr/azure/azure-functions/functions-bindings-http-webhook-trigger?tabs=csharp&#x26;WT.mc_id=dotnet-12565-juyoo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">HTTP 트리거</a>를 이용해야 하는데요, 이 트리거는 두 가지 요청을 동시에 처리해야 합니다.</p>\n<ul>\n<li>이벤트 핸들러 엔드포인트 검증 요청</li>\n<li>이벤트 데이터 처리</li>\n</ul>\n<h3 id=\"이벤트-핸들러-엔드포인트-검증-요청\"><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%ED%95%B8%EB%93%A4%EB%9F%AC-%EC%97%94%EB%93%9C%ED%8F%AC%EC%9D%B8%ED%8A%B8-%EA%B2%80%EC%A6%9D-%EC%9A%94%EC%B2%AD\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>이벤트 핸들러 엔드포인트 검증 요청</h3>\n<p><a href=\"https://github.com/cloudevents/spec/blob/v1.0/http-webhook.md#4-abuse-protection\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CloudEvents의 웹훅 스펙</a>에 따르면 검증 요청은 <code class=\"language-text\">OPTIONS</code> 메소드를 이용하고 요청 헤더에 반드시 <code class=\"language-text\">WebHook-Request-Origin</code>를 포함합니다 (line #8). 따라서 이 검증 요청에 응답하기 위해서는 이 요청 헤더 값을 응답 헤더의 <code class=\"language-text\">WebHook-Allowed-Origin</code> 값에 실어 보내야 합니다 (line #9).</p>\n<div class=\"gist-embed\">\n    <html><head></head><body><div id=\"gist107311606\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-07-validate-request-cs\" class=\"file my-2\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-c  \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n      <tbody><tr>\n        <td id=\"file-07-validate-request-cs-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-07-validate-request-cs-LC1\" class=\"blob-code blob-code-inner js-file-line\">[<span class=\"pl-en\">FunctionName</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>HttpTrigger<span class=\"pl-pds\">\"</span></span>)]</td>\n      </tr>\n      <tr>\n        <td id=\"file-07-validate-request-cs-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-07-validate-request-cs-LC2\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">public</span> <span class=\"pl-k\">static</span> <span class=\"pl-k\">async</span> <span class=\"pl-en\">Task</span>&lt;<span class=\"pl-en\">IActionResult</span>&gt; <span class=\"pl-en\">Run</span>(</td>\n      </tr>\n      <tr>\n        <td id=\"file-07-validate-request-cs-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-07-validate-request-cs-LC3\" class=\"blob-code blob-code-inner js-file-line\">    [<span class=\"pl-en\">HttpTrigger</span>(<span class=\"pl-smi\">AuthorizationLevel</span>.<span class=\"pl-smi\">Anonymous</span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>POST<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>OPTIONS<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-en\">Route</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>handler<span class=\"pl-pds\">\"</span></span>)] <span class=\"pl-en\">HttpRequest</span> <span class=\"pl-smi\">req</span>,</td>\n      </tr>\n      <tr>\n        <td id=\"file-07-validate-request-cs-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-07-validate-request-cs-LC4\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-en\">ILogger</span> <span class=\"pl-smi\">log</span>)</td>\n      </tr>\n      <tr>\n        <td id=\"file-07-validate-request-cs-L5\" class=\"blob-num js-line-number\" data-line-number=\"5\"></td>\n        <td id=\"file-07-validate-request-cs-LC5\" class=\"blob-code blob-code-inner js-file-line\">{</td>\n      </tr>\n      <tr>\n        <td id=\"file-07-validate-request-cs-L6\" class=\"blob-num js-line-number\" data-line-number=\"6\"></td>\n        <td id=\"file-07-validate-request-cs-LC6\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">if</span> (<span class=\"pl-smi\">HttpMethods</span>.<span class=\"pl-en\">IsOptions</span>(<span class=\"pl-smi\">req</span>.<span class=\"pl-smi\">Method</span>))</td>\n      </tr>\n      <tr>\n        <td id=\"file-07-validate-request-cs-L7\" class=\"blob-num js-line-number\" data-line-number=\"7\"></td>\n        <td id=\"file-07-validate-request-cs-LC7\" class=\"blob-code blob-code-inner js-file-line\">    {</td>\n      </tr>\n      <tr>\n        <td id=\"file-07-validate-request-cs-L8\" class=\"blob-num js-line-number\" data-line-number=\"8\"></td>\n        <td id=\"file-07-validate-request-cs-LC8\" class=\"blob-code blob-code-inner js-file-line highlighted\">        <span class=\"pl-k\">string</span> <span class=\"pl-smi\">header</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">req</span>.<span class=\"pl-smi\">Headers</span>[<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>WebHook-Request-Origin<span class=\"pl-pds\">\"</span></span>];</td>\n      </tr>\n      <tr>\n        <td id=\"file-07-validate-request-cs-L9\" class=\"blob-num js-line-number\" data-line-number=\"9\"></td>\n        <td id=\"file-07-validate-request-cs-LC9\" class=\"blob-code blob-code-inner js-file-line highlighted\">        <span class=\"pl-smi\">req</span>.<span class=\"pl-smi\">HttpContext</span>.<span class=\"pl-smi\">Response</span>.<span class=\"pl-smi\">Headers</span>.<span class=\"pl-en\">Add</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Webhook-Allowed-Origin<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-smi\">header</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-07-validate-request-cs-L10\" class=\"blob-num js-line-number\" data-line-number=\"10\"></td>\n        <td id=\"file-07-validate-request-cs-LC10\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-07-validate-request-cs-L11\" class=\"blob-num js-line-number\" data-line-number=\"11\"></td>\n        <td id=\"file-07-validate-request-cs-LC11\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-k\">return</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">OkResult</span>();</td>\n      </tr>\n      <tr>\n        <td id=\"file-07-validate-request-cs-L12\" class=\"blob-num js-line-number\" data-line-number=\"12\"></td>\n        <td id=\"file-07-validate-request-cs-LC12\" class=\"blob-code blob-code-inner js-file-line\">    }</td>\n      </tr>\n      <tr>\n        <td id=\"file-07-validate-request-cs-L13\" class=\"blob-num js-line-number\" data-line-number=\"13\"></td>\n        <td id=\"file-07-validate-request-cs-LC13\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-07-validate-request-cs-L14\" class=\"blob-num js-line-number\" data-line-number=\"14\"></td>\n        <td id=\"file-07-validate-request-cs-LC14\" class=\"blob-code blob-code-inner js-file-line\">    ...</td>\n      </tr>\n      <tr>\n        <td id=\"file-07-validate-request-cs-L15\" class=\"blob-num js-line-number\" data-line-number=\"15\"></td>\n        <td id=\"file-07-validate-request-cs-LC15\" class=\"blob-code blob-code-inner js-file-line\">}</td>\n      </tr>\n</tbody></table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/8282de7244bccca562cd508e64d89470/raw/33d50576a9beb45d73ac1ce6983bf633b9316921/07-validate-request.cs\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/8282de7244bccca562cd508e64d89470#file-07-validate-request-cs\">07-validate-request.cs</a>\n        hosted with ❤ by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</body></html>\n</div>\n<h3 id=\"이벤트-데이터-처리\"><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%B2%98%EB%A6%AC\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>이벤트 데이터 처리</h3>\n<p>위와 같이 이벤트 핸들러로서 애저 펑션 엔드포인트 검증에 성공했다면, 애저 이벤트그리드는 앞으로 이벤트 데이터를 계속해서 동일한 엔드포인트로 <code class=\"language-text\">POST</code> 메소드를 이용해 보냅니다. 이 때, CloudEvents 이벤트 데이터 전체를 사용하고 싶다면 아래 코드의 <code class=\"language-text\">@event</code> 인스턴스를 이용하면 되고 (line #18), <code class=\"language-text\">data</code> 부분만 사용하려면 아래 코드와 같이 비직렬화해서 사용합니다 (line #19).</p>\n<div class=\"gist-embed\">\n    <html><head></head><body><div id=\"gist107311606\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-08-handle-event-cs\" class=\"file my-2\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-c  \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n      <tbody><tr>\n        <td id=\"file-08-handle-event-cs-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-08-handle-event-cs-LC1\" class=\"blob-code blob-code-inner js-file-line\">[<span class=\"pl-en\">FunctionName</span>(<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>HttpTrigger<span class=\"pl-pds\">\"</span></span>)]</td>\n      </tr>\n      <tr>\n        <td id=\"file-08-handle-event-cs-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-08-handle-event-cs-LC2\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-k\">public</span> <span class=\"pl-k\">static</span> <span class=\"pl-k\">async</span> <span class=\"pl-en\">Task</span>&lt;<span class=\"pl-en\">IActionResult</span>&gt; <span class=\"pl-en\">Run</span>(</td>\n      </tr>\n      <tr>\n        <td id=\"file-08-handle-event-cs-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-08-handle-event-cs-LC3\" class=\"blob-code blob-code-inner js-file-line\">    [<span class=\"pl-en\">HttpTrigger</span>(<span class=\"pl-smi\">AuthorizationLevel</span>.<span class=\"pl-smi\">Anonymous</span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>POST<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>OPTIONS<span class=\"pl-pds\">\"</span></span>, <span class=\"pl-en\">Route</span> <span class=\"pl-k\">=</span> <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>handler<span class=\"pl-pds\">\"</span></span>)] <span class=\"pl-en\">HttpRequest</span> <span class=\"pl-smi\">req</span>,</td>\n      </tr>\n      <tr>\n        <td id=\"file-08-handle-event-cs-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-08-handle-event-cs-LC4\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-en\">ILogger</span> <span class=\"pl-smi\">log</span>)</td>\n      </tr>\n      <tr>\n        <td id=\"file-08-handle-event-cs-L5\" class=\"blob-num js-line-number\" data-line-number=\"5\"></td>\n        <td id=\"file-08-handle-event-cs-LC5\" class=\"blob-code blob-code-inner js-file-line\">{</td>\n      </tr>\n      <tr>\n        <td id=\"file-08-handle-event-cs-L6\" class=\"blob-num js-line-number\" data-line-number=\"6\"></td>\n        <td id=\"file-08-handle-event-cs-LC6\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">if</span> (<span class=\"pl-smi\">HttpMethods</span>.<span class=\"pl-en\">IsOptions</span>(<span class=\"pl-smi\">req</span>.<span class=\"pl-smi\">Method</span>))</td>\n      </tr>\n      <tr>\n        <td id=\"file-08-handle-event-cs-L7\" class=\"blob-num js-line-number\" data-line-number=\"7\"></td>\n        <td id=\"file-08-handle-event-cs-LC7\" class=\"blob-code blob-code-inner js-file-line\">    {</td>\n      </tr>\n      <tr>\n        <td id=\"file-08-handle-event-cs-L8\" class=\"blob-num js-line-number\" data-line-number=\"8\"></td>\n        <td id=\"file-08-handle-event-cs-LC8\" class=\"blob-code blob-code-inner js-file-line\">        ...</td>\n      </tr>\n      <tr>\n        <td id=\"file-08-handle-event-cs-L9\" class=\"blob-num js-line-number\" data-line-number=\"9\"></td>\n        <td id=\"file-08-handle-event-cs-LC9\" class=\"blob-code blob-code-inner js-file-line\">    }</td>\n      </tr>\n      <tr>\n        <td id=\"file-08-handle-event-cs-L10\" class=\"blob-num js-line-number\" data-line-number=\"10\"></td>\n        <td id=\"file-08-handle-event-cs-LC10\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-08-handle-event-cs-L11\" class=\"blob-num js-line-number\" data-line-number=\"11\"></td>\n        <td id=\"file-08-handle-event-cs-LC11\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">using</span> (<span class=\"pl-k\">var</span> <span class=\"pl-smi\">reader</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">StreamReader</span>(<span class=\"pl-smi\">req</span>.<span class=\"pl-smi\">Body</span>))</td>\n      </tr>\n      <tr>\n        <td id=\"file-08-handle-event-cs-L12\" class=\"blob-num js-line-number\" data-line-number=\"12\"></td>\n        <td id=\"file-08-handle-event-cs-LC12\" class=\"blob-code blob-code-inner js-file-line\">    {</td>\n      </tr>\n      <tr>\n        <td id=\"file-08-handle-event-cs-L13\" class=\"blob-num js-line-number\" data-line-number=\"13\"></td>\n        <td id=\"file-08-handle-event-cs-LC13\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-k\">var</span> <span class=\"pl-smi\">payload</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-smi\">reader</span>.<span class=\"pl-en\">ReadToEndAsync</span>().<span class=\"pl-en\">ConfigureAwait</span>(<span class=\"pl-c1\">false</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-08-handle-event-cs-L14\" class=\"blob-num js-line-number\" data-line-number=\"14\"></td>\n        <td id=\"file-08-handle-event-cs-LC14\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-k\">var</span> <span class=\"pl-smi\">events</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">CloudEvent</span>.<span class=\"pl-en\">Parse</span>(<span class=\"pl-smi\">payload</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-08-handle-event-cs-L15\" class=\"blob-num js-line-number\" data-line-number=\"15\"></td>\n        <td id=\"file-08-handle-event-cs-LC15\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-08-handle-event-cs-L16\" class=\"blob-num js-line-number\" data-line-number=\"16\"></td>\n        <td id=\"file-08-handle-event-cs-LC16\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-k\">foreach</span> (<span class=\"pl-k\">var</span> <span class=\"pl-smi\">@event</span> <span class=\"pl-k\">in</span> <span class=\"pl-smi\">events</span>)</td>\n      </tr>\n      <tr>\n        <td id=\"file-08-handle-event-cs-L17\" class=\"blob-num js-line-number\" data-line-number=\"17\"></td>\n        <td id=\"file-08-handle-event-cs-LC17\" class=\"blob-code blob-code-inner js-file-line\">        {</td>\n      </tr>\n      <tr>\n        <td id=\"file-08-handle-event-cs-L18\" class=\"blob-num js-line-number\" data-line-number=\"18\"></td>\n        <td id=\"file-08-handle-event-cs-LC18\" class=\"blob-code blob-code-inner js-file-line highlighted\">            <span class=\"pl-k\">var</span> <span class=\"pl-smi\">timestamp</span> <span class=\"pl-k\">=</span> <span class=\"pl-smi\">@event</span>.<span class=\"pl-smi\">Time</span>;</td>\n      </tr>\n      <tr>\n        <td id=\"file-08-handle-event-cs-L19\" class=\"blob-num js-line-number\" data-line-number=\"19\"></td>\n        <td id=\"file-08-handle-event-cs-LC19\" class=\"blob-code blob-code-inner js-file-line highlighted\">            <span class=\"pl-k\">var</span> <span class=\"pl-smi\">data</span> <span class=\"pl-k\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-smi\">@event</span>.<span class=\"pl-en\">GetDataAsync</span>&lt;<span class=\"pl-en\">MyData</span>&gt;().<span class=\"pl-en\">ConfigureAwait</span>(<span class=\"pl-c1\">false</span>);</td>\n      </tr>\n      <tr>\n        <td id=\"file-08-handle-event-cs-L20\" class=\"blob-num js-line-number\" data-line-number=\"20\"></td>\n        <td id=\"file-08-handle-event-cs-LC20\" class=\"blob-code blob-code-inner js-file-line\">            ...</td>\n      </tr>\n      <tr>\n        <td id=\"file-08-handle-event-cs-L21\" class=\"blob-num js-line-number\" data-line-number=\"21\"></td>\n        <td id=\"file-08-handle-event-cs-LC21\" class=\"blob-code blob-code-inner js-file-line\">        }</td>\n      </tr>\n      <tr>\n        <td id=\"file-08-handle-event-cs-L22\" class=\"blob-num js-line-number\" data-line-number=\"22\"></td>\n        <td id=\"file-08-handle-event-cs-LC22\" class=\"blob-code blob-code-inner js-file-line\">    }</td>\n      </tr>\n      <tr>\n        <td id=\"file-08-handle-event-cs-L23\" class=\"blob-num js-line-number\" data-line-number=\"23\"></td>\n        <td id=\"file-08-handle-event-cs-LC23\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-08-handle-event-cs-L24\" class=\"blob-num js-line-number\" data-line-number=\"24\"></td>\n        <td id=\"file-08-handle-event-cs-LC24\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-k\">return</span> <span class=\"pl-k\">new</span> <span class=\"pl-en\">OkResult</span>();</td>\n      </tr>\n      <tr>\n        <td id=\"file-08-handle-event-cs-L25\" class=\"blob-num js-line-number\" data-line-number=\"25\"></td>\n        <td id=\"file-08-handle-event-cs-LC25\" class=\"blob-code blob-code-inner js-file-line\">}</td>\n      </tr>\n</tbody></table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/8282de7244bccca562cd508e64d89470/raw/33d50576a9beb45d73ac1ce6983bf633b9316921/08-handle-event.cs\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/8282de7244bccca562cd508e64d89470#file-08-handle-event-cs\">08-handle-event.cs</a>\n        hosted with ❤ by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</body></html>\n</div>\n<p>위와 같이 CloudEvents 형식의 이벤트 데이터를 이벤트 토픽에서 애저 펑션으로 받아 처리할 수 있게 됐습니다.</p>\n<hr>\n<p>지금까지 <a href=\"https://docs.microsoft.com/ko-kr/azure/azure-functions/functions-overview?WT.mc_id=dotnet-12565-juyoo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">애저 펑션</a>에서 <a href=\"https://docs.microsoft.com/ko-kr/azure/event-grid/overview?WT.mc_id=dotnet-12565-juyoo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">애저 이벤트그리드</a>로 <a href=\"https://cloudevents.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CloudEvents</a> 형식의 이벤트 데이터를 보내고 받는 방법에 대해 알아 보았습니다. 이 방법은 포스트 안에서 계속 언급했다시피, 현재 <a href=\"https://docs.microsoft.com/ko-kr/azure/azure-functions/functions-bindings-event-grid?WT.mc_id=dotnet-12565-juyoo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">바인딩 확장 기능</a>은 아직 CloudEvents 형식을 지원하지 않기 때문에, 일종의 임시방편으로 사용하는 방법입니다. 조만간 새 버전의 확장 기능이 릴리즈 되기를 기대합니다.</p>\n<h2 id=\"더-궁금하다면\"><a href=\"#%EB%8D%94-%EA%B6%81%EA%B8%88%ED%95%98%EB%8B%A4%EB%A9%B4\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>더 궁금하다면...</h2>\n<ul>\n<li>애저 클라우드에 관심이 있으신가요? ➡️ <a href=\"https://azure.microsoft.com/ko-kr/free/?WT.mc_id=dotnet-12565-juyoo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">무료 애저 계정 생성하기</a></li>\n<li>애저 클라우드 무료 온라인 강의 코스를 들어 보세요! ➡️ <a href=\"https://docs.microsoft.com/ko-kr/learn/?WT.mc_id=dotnet-12565-juyoo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Microsoft Learn</a></li>\n<li>마이크로소프트 개발자 유튜브 채널 ➡️ <a href=\"https://www.youtube.com/channel/UCdgR-b2t7Byu_UGrHnu-T0g\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Microsoft Developer Korea</a></li>\n</ul>\n","humanTime":"19 January 2021","datetime":"Tue Jan 19 2021 12:00:00 UTC+00:00","canonical_url":"https://blog.aliencube.org/ko/2021/01/13/dealing-cloudevents-with-azure-functions-for-azure-eventgrid/","timeToRead":8,"tags":[{"id":"azure-functions","title":"azure-functions","path":"/tags/azure-functions/"},{"id":"azure-eventgrid","title":"azure-eventgrid","path":"/tags/azure-eventgrid/"},{"id":"cloudevents","title":"cloudevents","path":"/tags/cloudevents/"},{"id":"azure-sdk","title":"azure-sdk","path":"/tags/azure-sdk/"}],"category":{"id":"Azure","title":"Azure","path":"/categories/azure/","belongsTo":{"totalCount":4,"edges":[{"node":{"title":"공정한 & 편향없는 AI를 위한 Fairlearn 및 애저 MLOps 도구 활용","path":"/posts/2021/01/26/towards-fairness-ai-with-fairlearn-and-azure-mlops/"}},{"node":{"title":"애저 펑션과 애저 이벤트그리드간 CloudEvents 형식 이벤트 데이터 주고받기","path":"/posts/2021/01/19/cloudevents-for-azure-eventgrid-via-azure-functions/"}},{"node":{"title":"애저 DevOps 파이프라인을 리팩토링하는 6가지 방법","path":"/posts/2021/01/12/6-ways-refactoring-azure-devops-pipelines/"}},{"node":{"title":"애저 CLI를 이용해 애저 이벤트그리드 구독 및 로직앱 이벤트 핸들러 프로비저닝하기","path":"/posts/2021/01/06/provisioning-eventgrid-subscription-and-logicapp-handler-using-azure-cli/"}}]}},"author":[{"id":"justin-yoo","name":"유저스틴","image":{"type":"image","mimeType":"image/png","src":"/developerkorea/assets/static/justin-yoo.0d7bb5f.d8fcc9687c70820fe6d9bd3801483455.png","size":{"width":500,"height":500},"sizes":"(max-width: 500px) 100vw, 500px","srcset":["/developerkorea/assets/static/justin-yoo.0d7bb5f.d8fcc9687c70820fe6d9bd3801483455.png 500w"],"dataUri":"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 500 500' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-6a0325b746fa0b3948747e4a6f689de9'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-6a0325b746fa0b3948747e4a6f689de9)' width='500' height='500' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC%2baJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAgAElEQVRo3pWZd1RT67b2ueccy7YgHQKE0HsvYkdFsaFYEKUI0nsnlPSEhBI6offeISgdpPeQ0JFi3%2bfse84Yt/x3v7%2b/udaCiLq3d9893rH2Soz4/J75zPm%2bK0jMz68sLq4tLa0LhVvLy9srK7tra%2b/Ea339/fr6h0Pr459Za2sfflyrq%2b/R9W5lZW95eVck2hGJtoWwlt4Kl7YEgk3B4oZgYWNxfm1hfm1%2bbmVudnl2RjgzvTQ9JZiaXJwYnx8fmxsbnR59M/VmZHJ4aHxocGyg/43E7KxoYWFtEf6yYFMofLu8vLO6undIPQKwsYGtTxsbH9H1CVugFbv%2bEcNhmAOA9ysr%2bwzLwm0RLATg7ZJga2lxEwVYX5j7HYDJiYWJcQCYAYCR4QkAGBwYRQBmZoTz86sLC%2bvAAADgCgBg0lHR2FWs%2b8NhgMMkf6YO3wCIdpdFCAD8o0tLW8hCAUAJCrA6PwcAIgCYmRYDzI%2bNzmIVAIb9CgDAHHx6HgGAnwIAWIpQ48WW/47oP2L4Qes7uPnxTQRAiKYIAxBsIgCLKMB%2bhEQ/VAADmP4mQtPTwtnZFWCAvwk/CH4cBnBY9%2bbmZ/T6M4ADie/gw7u7v%2b3t/fv29j/evfsn3Ozs/AZgIF0kgujvIgDLSAWQNhAiPXAAsLEIFYAegArMrs7NrmAV%2bBZgDgP4WoHx8YWpKYRhfn4N2kBcASz0IBpdn7HrH6kHcTs7/4C1t/fPmZnVzs7%2bxERaRHhMZERscFB4R0cvqAS58Ke7u/8OACLE%2b10hLAAQHDQx0gAYwCoCMLPyuxWANvimAqOjc5OTSwAAFTgE8B6z/xDA55%2bE5/Pn/%2bofmLK/ftPN1cPh5m0pyVOy0lLysjLSZ87ISksrKSiYGJmctbF95uKal1O4urK3ufVFKNwRLu3nRyhAABaRCiANcNDEfxQhAIA%2bPgAYn1iYmRGB/Yd7AG2Aj/%2bremwKra19rK5uuXL56i/HjkqePIFIl5ORg/9JSkqePi156uSpEyeP/O1vf/nLv0lISMhISz9%2b5NzSzN/Z/vvmxuclGEECFGBxc2FxHRtBUAHU/p/1wFcArInF6rExinUwqv5/wXi3908ul6evoycvI62moqyGV1FTVVFSkMMpKSgpIjVQVJBXUkTupM5ISkvB5fQvx49rENSfI9UogmqA90uo/Wj7rs8jHbyKzlCsAZamJg/vA1gFJr%2bOUdjFBIKv3qObwOH8fDxg%2bHx4YfZDpqOjE1SUFPE4JXW8ihZBTVdLw0BHSwOvoqmmqqmmoq6KwysrAg9ccYoKCvKysIDqxC/Hjx7566kTv2SkZ29ufATFSAMsiNVDBZZnp0UzU1/tB/UHANPYPrBfAWz/Ent/aIB%2bB/ANA0wbaMem5ld6unog10BXRx90q6nqa6pdtja%2bYWty46zR3QtmD%2b0s7cx17cx1zhtpauNxyggJDhjOSJ6CjP1y7Mjtm7dGhqfWoA6Lm0h%2b9gFW5iA/06LpKaE4PBjAQQMgIwgq0N83IoGdIA7UY/vux9%2brwKfD9m9tfREt7121u66BV9XX1jLS0bA21HK5aUv2f5gW4VJAdK2keFWRX1QnuWUF3MsLvMvxvuVlb37ZmKBPUFaSl4UmgTqcPnnizOmTgESMjYdBhPTu/BqqHhpgeWZaiNovENuPqv86Q/cjBOoPjH9/kOyPh8z%2bPjzIgui/%2b1dMTCJeWUlbg2Brqh/j6sAjutaz/GZqSXM1CbPlsbOlMeO80MEMPz7dvTXRpSXBpSz4Dv2JrccVAzMNJVVFOXlZGFGAcPzUyROmJiaTE4uwCczNYvavzCD2L00j6vfTP4ocImZGhsX5QdQjFTh0avi6bf1kwQd2d36LjCTiVZS11NVNdQgcP8e%2bzOCxkti5OspaR8pmV6qonjJTGD6ZHzIMALTnnTRXPtWtOfZR4ctrDCcrzwtaVurymorS8lKSp0%2bdgAUDi0ljra2%2bm5leRuyfXp6ZQgCmJgTi/GD2Q96Gh77ajwAcHNSwufn55wDQuLC58rtHFOTkVJUUYeyEPrwynBW0WJe4wU/b7c//MFLyYaRs61WWsJY0XRA%2bnhPYz3nZx3k5kObbRXWrCXVkP7SKvKb3yAx3QUNWT0laRvIk/Hf0yN9winItzZ2w34F0dP5A%2bpfE9ovH//DQ1y0M1Pf1DiEAm5sf0Ov%2bYeEnAHBY%2bPT5P5nMdGnJU1oa6udNdcuIz0YLI9Y6OO%2bGC98PFX8YKf80Vv32dZ6wjjpdHDmRHzKWGzyaEzTE9eNTXGtD7qU8sk64Zex7XuO%2bsdI1HUVteaQIUlJSsEU43b%2b/ItqZnoThA0v43fA5sH9c3L6wenv2AT4ebFuff74QgE//ERwcKS8jpaul%2beT62epEt4mS%2bJ3%2bvHeDRR9Hyj6%2bqfgwUrnawp3ixUzyIt9kBY7lBI3nhw2kercSHxd5XmU6msc7GEZc03M2V7ljqHSOIIOTkTxzRvKvf/k3C3Mz5PwzvYzaD%2bERHLYf1I8MTw4Nfk1/X%2b9wz%2btBiR%2bPDD9JP3wYpqez83MAMDMy8HS0q6F6CZtT3o%2bUQ3I%2bjVa8Gyxea09bqqdPFccOpgcNpAUOZwSM5YWOZAZ0JroUelxhOprF2utHXtd/bom/a6h4UUNWXf6MtLTU8WPHYK/jd/QIFjYhPOL2PQgPZv/k4IA4PMNg/%2btXAxIHTypfw/Pd/WGAt29/nV/YsLSwUlaUP29t4XHnYh3Lf42fvdtfvDdUujtQsMHPWO/K3uDnLbekjuaE93P8Bzg%2bQ9yACV5kf6pvbdh9jpN1zHV9v4uartZqd4wUoRM0FaRkzpw%2bdeokHDXYTM7K8g54P4XYv392EKsH%2bwf69%2b0H9WIA8Vn/o/jkfHgd7mA4J3e/GlFVweNVcBesLV7cvdyREbHGz1zryhI0ssfLSXMNKW%2bHanfH27aH67f6yuer6RO8qMki4mwlZao0qZvlVxbygP7knNcFbSdTFQd9pfPqMuoKUrCxnT55EtrA7bkbbKkT44tTB/kZfbMPMDQ48aP9r7r7JX58WPmO4TDA%2b/f/amrqxquqahLULE0MA584TFSQ1zvT5moZVWTf3ES/FKI/O9q3hBHekh4z15q3O1Inaslcak6fr%2bc0swJpnne875xzuWjkaK11SRd3RVvhIkFGTfY0jNMzp08DwDNnF9jREO%2bR9kUADoVn/Dv1sLr5fRJ/5mlLfPiB/au%2boVNZSRFmqK6aCsvHca2VtdTArE3yzIv2KGVF8mjBmfFeVazA5rTQN1WsD%2bPNi3XcocyI/uzItID7L25anTfSstAlWOuqWGspWRIULqnL6cufQrZkSQTgsdNDOFBg4Tk8fLDw9Pe9wdRD72L287t6v%2bmBny8YQfB41dk5gFeB85vSbRuDfo7XWkPSXEkMn%2b03Uc0WdBSI2nNmyknD2RHCZs7eUPHOQOlsOb2N%2bKw%2b5klxqGNJ6P02lncT1Yvz4prbeW1rgqytuoINTlLu9C8AAKftB46OS4INUC9u34OdCwP4JjxgPwJwcPj59Geeerff/n1yUmRqbKKqpEBztx9M8elIDapPi%2bFRgkqZoU3ZCUW0QLKXY%2bT9i0muN3lEj4lyyigvttDbnnjLNOK2RaqvYz7RnRv4MOG%2bjaMZ/qy6rA1e9gpBVl/u1LGjR6ECZ62t4IELdgDx9MR6F0s/NjcPq%2b/q7JEQnz3/DABMoZmZFUsrG2sr67iIKJdHD8lkMinUtZbhPt5A6SwnpjKC7lw/63JOn%2bV8sY7sXptHD/d/qa0ko6Uk8%2bCKsf8TO1tTQx2crIOZxh1jVRsNBRtdvJmmsh5OTk9LE4dT1lQndHW8hscAkH5gP5b%2b0R%2b9B/WdHa//DwBooT4vi3Zi3V1unLPKjg%2bK9XMtzM/IjXtcS3rUkh3UWhjdUUSLe37L/5Jh2rPLizXxbEq03w3bR2d1jLXwvi5XWZHOSe73Aq%2bbudho2mvLPjHHXdZSvH/HQVlV%2bemjx1cv2cXFJmC77%2bHhM9A/hs1NsB9T381H1MPqaH%2bFHeY%2b/lmAzS%2bby9vtRN%2bYl8/aqd4zuaEtueT6jLDenMCBwoiZGnIfN6wm4nGe142BrJCewthAt3uThbF1sU/PWxi%2beHCH/sIh2%2btGuutl8j3zoKu6z6zwDgbKMaFBRjrqevD0Iy/d0dwBz2Lf2d/fN9rbsx8eTD2/C9S/7ux41dHevQ8gXoe/4fkRYB15Evj8piCd4vu8Ls59Ni%2b8IyOmkB6w1Zu68TpjujC2j%2bU7xA2eLYl735PZW5CYHeP%2b6wivIc7ZUlP5qZV26mObQp8bPG/7TNdL6c5nI67pP7HWJYYF2hmoEc6ceHDdbnpiYWx0Htt6xer7ekd6Xg%2bJxw6WHPC%2bva27rZUvgX0B%2bLvr9763%2brCx/dvqYF9ugDMv6NFcQbSwMaWCFd5dQBR05k1Xs0aLk0Z48T2ZkV1ZUTBS5%2bqZv46WvKJ5XNaQdzDC5b%2b8Wh/u1BDq1BjxsMTnZuxNk9D7l72fPzqLl9eSOc2IjV0UbMKR880I1rvIzgWjE7P/sHrM%2b/Y2fmtLl4T4S8yfYHzzcvPXLdHGQk16M8V3pjBmqzP9w0jNSHVWRy61jh1ZQfKrogZUkXzqGMHTVWQo1peJqvGccD9bdQcDpYcWmmF3banP7CnOVxMeX/G/ddb5hu0lXeXrBoSzSlLF6dy5%2bfU3w1Ni%2byH9qP374QGAw%2brbWrtamjskfvwG8%2bckG3AmXdnbbM4dSQ%2bf4EWvNjHfD5X818rgfy4Pfhqq3mhOncgMmcqJ2ONnrzeytruz/jHTNF%2baFH/DmHzP4oUZ/pmJckOSVx3Rg%2bd9l/LA9omZqp2GrJ2ump2mcldzx9SUCIn%2b/sFhP/2vX%2b3bjyUH1ENywPvWls7mpvb/A8Chbz8/rtRnD6WFjOVHCuuS3nZnfh5r%2bm2h7%2bObhn6aT4nndVFz5l5vycehmo/Ddf8SdK%2b1pFDvWXrZaDjpyvvZELrInvNlpCGWT5GnvbsV4SJB9rK2spOlwfDA6PjowuHe7et9A%2bnHJg8WHsg9mpxOTH1TY5sE9oXrjwx/TPJhbePLRl/LXAV5gBu4WB632sx611v4abxpoYJR7HFtror%2bZaJxg18yVZM2Us4Z4hGro12czVWvass4GePCLuvme9j3p4b00l%2bmPbZ5ZIw7T5C5gJcJcLwBp%2biDU%2bcEGh5Qj9iPqT/oWsR4SA6mvqG%2bFQDe/QjwY0EO7j%2bsw83W3zdHh%2baLk7rZvnOlUYtVCauN9M2u3PqopwO5sWs9JaKuomV%2b0UIHb6YxvSMlqCzejeNxJdHJOuquBZxDo29bcN2v8Ske7IeWt3TlzqvL2SidDna6PTUjGtrvXSw8I69fDXXzB7DwYDMHNR5R39jQ1tjQWl/XLCH%2bvYN4/QQGWavv1ze/rM4uzZcyu5kvp4oiFmsThXXk2UpySfC9ifqUxbac7aGa3ZH6vdHmrd6q2VLmeD7pFellzvOrjEfnwm4YBdobh9obt5FcYZje0pO3xUvbG2qU5/ImJgSYerAf1IP9r7q/2o/lHrxvakTUN9S3gPq62iaJ1ZX3PzL8iLH6LcPa5hfR%2bFh3sv9YXthSA2WllTFdEtdO9x4sSqhJcO/NS1xqylmozVqsyZkvy3ydFMJ7cYf51M7rnO49feW4u9apntd70oKyXtg56MlbKhxnxMbMzW8MDkwM7u%2b7o2h4EPu7OvftR9V3HqhvxdTX1jRKLKO/bsB%2bDfFHACvwzg91WNv8e28RG556RY2MxbqkmZLY0fwoflpgpudtXtSLjaHq91NNnwT8X9dHREM19Rkx6ZHPbxjinxhplAY4tbF8BnMiom%2bZ2evKnsefqS6pmJgUDgyg4enHehexn9/V39mB2I%2bph/B8p76muv4bABC6jF7FDMh19QP2R9/%2bsujd5vZvo%2b1Nrznewkb6YiNtqoI4xosYK4pZaUvf7Sldayna6ajba2neaa5dyE9rDvAkXzIPO6eX5nyp2Mehg/GyPObJMxu1W/pyjrYmQ4OTI8MzaO%2bOH/Tuvv1o7/J/X31VfXVFrYRoeW//dz6H1o8F%2ba4yq2uA9GFhWtiZGjZZEiNsZszUJE1VJMw3MDb4Oe8GS36dbv401rbdXjOfzx5ixbSHv8h8coX2wCbH7UqR982i4HvhDiZPrPC2uON0InFmdnWgH%2bvd/fSjvYvYj02e/fCA%2btoWkF5b3QDqqyrrKstrJITLe8sog%2bhgrfwQqh95AHJr69fVjS81GQw%2bx3u8OHqsMHKiLH6xhb0GAAMlX8Zq/zHXudVfMVqe3JES2ckIqAx9WOp/p9TXIe/ldfLjs/dMcBfVTj%2b9fnF4eHp4eGZgYLL/d%2bx/Db0rtr%2b%2brqWupglTX42qryirlhCKdkUogwhdy8v7FTh83V8H6VpB1H%2bByD54%2bMTK3LQg%2bmkbw4vP8e3JCJptYKzys/cGCt8PFH0cqXo/WLfcWjjGI/fS/FojHtcG3eF5XeU8PedsTbAhSJvhTl%2b2tenpeTM0NN3fB%2bqhd5HRCenv6uzraO9ta%2b3%2bRn1t8773FbWgvry0qqykAgVA1zKKAQURruyBbgTmW4BlrETLexCh2dmVG/Y3ZGXkFHCqNJ/7dWSPGrL764zAwYLI5U7udh9vr7/gLT9rvS1P0Jg9nBUDB7hKv1sFL67QH1gEXtU/rylnhpe10cQdQb9KmZwU9va8QY894t7txUYnFh6IPqq%2bEYw/pL6ypKhcYkm0u4QCLGG/dTtEAnKxdO1f0QUf23r797KyKmVlnKKCkqqmXmtJ7nB2cEnss8pE1%2bZkn9HyxLWevPVXucL2rPnGzJm6jO7U8MrwJ/neNxMf2Phc0r5piDPFy1kR5G0I8vAY%2bfTx4/EJwevXbzD7QT1qfw9qfxe2Z4H9WNd%2bp76ooFRCINyBtQTrAGB/YQwojHihb%2b6urH2sb2q5c/c2/PO3HrrPvxlfqiGOlhBrSe7FUc5l8c/7CuNE/Jz51qyxShao56eGVsW4MFyv%2btub3DHDm6nJm%2bDlz6nJWCifgZ%2bgr6MFWe/rmxCHB%2bxvb3vd2oLkRxyemqoGLPegvrS4AlNfyCvaBxAzLB2UYgllQBoDfYl1CLyzBACr70sqKtMyODpa6m4BpLmFvaUG2tuerLlack96QE3C8/yIx/Usv56COH56UBvDp4Xuw3S76nPD/JaFlrkGzgyvYIU8y0ub4s787chRGWnJnKw8aGXwHnoXDc%2b%2b/U2NHVh4atDwVJbXHva%2bkFfMyyuQWFzaxtQLDi1QLzioydIBAKIefbm8%2bqGqpp6dlkymJDx44t00sDPbUfm2O3XzVdZcDXk4L7yF9iI32JHtfYv64maCm33A3bN3bXQvG6nbaKlYayhZ4eUuqsteVz9jpKogI6984pdjQYFBsAmAbnTywOh83dLc3dyE2d9aW9NUXVVfWYHMHEx9cWFZIa8E1Ofl5EsIAABdGMl3GN/VBAXbXl3/1NDcwU5lpnA54REhYaS81wMr4yXxG/xUUSt7pipxKCekg%2bFZFfckw%2b9WjNNZ14t6T85qO5/VvmeOv6Apf5Ygd01b3o4gaaypYWxpd/z4sWvX7MDsEShCZ39bK%2by7oJ6P2t%2bGqm%2borKirKK8pQ8ODqS/IL8rP5eVm50kIBG/FANgS/B6JEK0J/ClSB%2bFOUWlRKpedmc3lpLOJCTGMnKaGmu7elABBDWmxjjoPm1pp3Agvsj8ruI3qVhTgkOlhR3909sV5rUtaCpc15G7ryl1UlTTS1rn7NOTYseMXLtj6eHsz6GxQ/Kp7CBgaGzrq69qw8FRV1leg4cHUF/FKC/KLMfXZmTkSC4tbC4K3sBYPMSweFGRxaUewf7MNGOD99Nx6bUMjYn86m5udlpaZmsrlUKjxiawsekR4cZhTX7LPeF74dClxpjJppoY0VhjVlx7QFO9S6H/T57LeZW3cdR2F2waK51TP2JhZ%2bsdlHzl23NLSwt3D1cRY38TYIDQkrLK8DlIEGHW1Laj3teVlNaUlmPelqPcQnrycrNysjGyJ%2bcWt%2bQMG8RIc4kFeQmzWPiwKthuauxLIZBqTwmBRGWxaamZKWlZKakZqGjclOib0hZe7m9szTpR3npd9fbgjn%2bbRkxrwKtW/NyOkLy2I53fHyVLbXk/VwUDlngneWunkLfu75MxWANDV1fH197l//66M1CkFeSlrK3M3Nzc6jQXSoYmBoaS4EvG%2bAPO%2bEKKPqc9Iz5SYW9jEGMQLqQa65gXIS6FoTyDcbe/qpzGTw6PDwmPCiYmx6RkpLDYd%2bhhmEZPDgGrExEW99PHy8PKgJDOo5DiKrzPH7Xq%2b17XSkHulYQ%2byvG56nte7a0K4a6J%2bx5jgaK5hJn88LJzELuo5euwEgUAICPILCPS9fPm8vJyUkqKsJkHFyEDX/trV8LCIvJxCmJ4AwMsrQtXzxOq5aVwEAGXYPAwAC24gOaKV9/1DU9ys3KiYqMjYyERKQgKZGBYRkpaRAtKTU5ip3JTkVCY9mUahkzxfenh5v0jmMBgcFjMlmcEgF9Cj6S5XYm4aedioO5mqOJmr3zJSv22icctA5YKmYkXTGDO34%2bjx03iCZkhYUCwxsrKm%2bvad26dOHiOoKRvqaRnp6xgb6dlduRQcEASxKSmqyM1Goo%2bqz%2bKmZaSlpErMzm/AOsBAALAbaNbRcUFeYWlkTBQYT6IkJNESKQwylU4KiwimMEgZ2Wmp3GR2GgsAklMYrBRGVEyEy3NnTiorK5fLSUsGts3t7YGBfleHi/f0ZJ3MVG8b4a/pqt4yVr%2buKf3o6uWhhX%2bGkfN/OSVD0DLy9PYMjQgpKSvhFZecOX1CXl5WU13VUF/LyEAblqGBjv01u7iYuHzUfpCenoqoT2VzJGbm1jEGZC0gVzB%2bfvFtbUMbMSkBfmgCOZ5ETyLREhnJ1GQOHa7xSbGJ5HgWhw51SM1gQ5DoLAokChg8vTxiiFGZOenQ2XQWrbyyrLCs2DcwwFoHb6sqdUFd4ZoO7qa%2bsq3S0Qg//%2bmt/%2bfsFXNaGqdtdPahs3NweGhcfGx334CegY6k5ElVFSVtTTVDPU3AMDHWMzbWMzU1cHrgmMxkZ2fmprIR9SmsZAQAY8CuS8Ldnv5xTjoXAkNMiiNRE6lMMqxEajyNRU5OAQAKmZFEoiZQmSQmh5aRlZqRlQZZojHJEKrI6LCgEH%2bwH%2bpAppJoLJqX70vbc2cv29lZqCufV5W%2bpC5/TlXqmpZMfWNfIKX2%2bsNAvJbJOXvnh0%2bfhUdH%2bgb49g4O3nNyPHb0ryo4eYIaTleLAFky0NcyNdG3tDABkvO2VnExMRAhDpPNZjAlpmfXYE3NrM4tbAFARXVDbGJcFDEqkQqBIZHpiRR6EkiHGxI9kcGmMtlUeAmJpzPJcAOzKD0rlZuVAmCcNBYSsMhgOovKTmUxWJSCkmImJ%2bX2nRvefj4Xz9mYKUraqMpYyx0JdXmYWzdhae9jfe3pldvuj72T7O8%2bCokM8w3ya%2bvo8A8OOvo3CUUFWQJeSQ2P09fTMDDQMjbSNTMzsLIyRW5MDSLDwricVCaVJoGph8y8GVvMyMkF6fFIZkgUVB/YnEghUgCDmYQAJFNZHBoNqQm4S6YjHyAz2TR2CgMsh80BGBKS4pIoCXQ2HSFn0uqa2109nkVEhTk%2beGCqqmCFk7yqLpWdV%2bvgEnvJweXKHfdQcrFfXJaXf4h3gH9weEhZZUVMfPzxo3%2bRk5UiqCqpKCtqQZCgE1AAC3MjU2M9IwMtczNDfx8fDpMlgXnfwR%2bgMulxSXFUJpXKotCTYdJT6CwS%2bEqixiMA9EQqPQleQgVQZYAHH6BgVyryEopDh06A1JGpiVABeCckPKixtTMiOtLP39v5%2bTNrA10jqSMPzls9D6CbnX943z3WLzYrs%2bpNLKskr6CQSCYHhQfn8PKoLOaJX47ISkuqqSiqKMsTCMp6uppGhjpgvIWFkZGhtqGeBrw0NzcKCwyUGJ8UllXWJlKTYMIkoy6y0KAj7jISqQzQCmkhUWgJMIjgfSrkipZIPQBAC0Uh05LAeLgyktH6MCBjUB9qZHQor6iYnc718HR95vbcxtZW7eSR2zYW956G2j8M9orMTCnpKe9coGTU1DU01re0%2b4eGcDO5KRlcydO/wKaGV1ZQUVbA43Ha2upQBGhiSwtj0K2rhTc20DIxM7h43loiPTsTLGenJ6dw2SncZE46C4IOKkmgGOYNhQiiaSwShZFEpiZAbKB9YSJRkAih3jNIGEAcZC8pDjYK%2bAlAmJBETKIkxhCjo%2bNi84pKn7k9dXV3vXbTQVla%2bp7j87vPol0CGMSUutpXoobedTavqa2zc3J2oaiikkwnZ%2bXny8mekT5zCo%2bTx6soqqoqaWkRDAy0TZAKGFtbmRroaepoqsJLCJJEchqTm5OemceFQwE7ncVOY1JZZBiUCaQ4WEkUZPhgC5IDCwYowgD34D0sBuI3YETFhMcSoyKiQulMAKPCywQSEaIfFhFa09Dy9LlzYHDA46dPrjs4PfaK9wxPC6GUcsv7%2beMfmge2uCVtA0PDY1PT0/MLWfl5%2bcUlOJy81JmTqjh5NVUlANDUUtOHYWqib2FpAgDmZgaaBJwh%2bo5ERk56Rh6Xm5OWkZsOFYDJCA1KTIyJjgtPJMclUePBTqRfkfAg9scDGJkIliPeI9KRGygFDNDQ8KDwqJC4%2bGiYqvGJseGRIZA6eL%2bqtvGF9wu48fb1eu7p/9A9Ni6lIS6ltqhpamTxn00Dm7kVHRPTUxMzc7MLizWNja1d3SoqigAAk1Qdj4NBBBUAAGOYpFamMIiAQUdLTVNDFfY4iZyCLG5uelp2alZ%2bBuxKIBTiQaLDFhYUHRcBIwgWEmukUymJ1AQisosRESomCToBblBCSlRshI%2bfF6iEIgAeHChgw4aahEUE1dQ3hkaGh4QFwBnkicuzGw986PmvqNkt1XzB9Np/1x9InTcAAADfSURBVLxaKahqFwgW5hYFEzOzBaXF/N5%2bPF5ZWuoUVEBDTZlAUNHWUcciZGVtBsvGxgyaGK%2bioK2lJpFTmJ2WyeFmp2YXZKWksyDroJKWTCYmRPsH%2bsTFR0H0kVaGCkC0SHFx6DaMRIuBRAhqkoRudmC550v34NAAYID8wGyFYQoMgcG%2bLW3tJDrNzcMlOi7K0/vFrQcenNJBFq%2brZXBjaed/yjoWKxr5omXhkmi5Z2iIV1w48GYMIiQnI6mqrKCprqKpideB/dhI19TM0NrG/KytpTUcxC1N4E9VVRT%2bPzbiUw29GeqqAAAAAElFTkSuQmCC' /%3e%3c/svg%3e"},"path":"/authors/justin-yoo/","bio":"마이크로소프트 클라우드 🥑 | 서버리스 덕후 | DevOps/SRE | 엔터프라이즈 통합 솔루션","github":"https://github.com/justinyoo","linkedin":"https://linked.in.com/in/justinyoo","twitter":"https://twitter.com/justinchronicle","facebook":"https://facebook.com/aliencube.community","instagram":""}]},"related":{"edges":[{"node":{"title":"애저 CLI를 이용해 애저 이벤트그리드 구독 및 로직앱 이벤트 핸들러 프로비저닝하기","path":"/posts/2021/01/06/provisioning-eventgrid-subscription-and-logicapp-handler-using-azure-cli/","image":"https://sa0blogs.blob.core.windows.net/aliencube/2021/01/provisioning-eventgrid-subscription-and-logicapp-handler-using-azure-cli-00.png","image_caption":"애저 이벤트그리드 구독을 위한 애저 CLI 명령어","description":"애저 이벤트그리드 커스텀 토픽에 대한 애저 이벤트그리드 구독 리소스는 ARM 템플릿을 통해 프로비저닝 할 수 없습니다. 이 포스트는 애저 CLI를 이용해서 이 애저 이벤트그리드 구독과 로직앱 이벤트 핸들러를 별다른 외부 입력값 없이 자동으로 프로비저닝하는 방법에 대해 알아봅니다.","content":"<p><a href=\"https://docs.microsoft.com/ko-kr/azure/event-grid/overview?WT.mc_id=devops-12244-juyoo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">애저 이벤트그리드</a>라는 서비스를 이용하면 다양한 형태의 이벤트 기반 아키텍처를 구성할 수 있습니다. 특히 다양한 형태로 기존에 존재하는 애플리케이션간 이벤트 메시지를 전송하는데 있어서 꽤 유용하게 쓰이지요.</p>\n<p><img src=\"https://docs.microsoft.com/ko-kr/azure/event-grid/media/overview/functional-model.png?WT.mc_id=devops-12244-juyoo\" alt=\"애저 이벤트그리드\"></p>\n<h2 id=\"이벤트-기반-아키텍처의-세-요소\"><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EA%B8%B0%EB%B0%98-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98%EC%9D%98-%EC%84%B8-%EC%9A%94%EC%86%8C\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>이벤트 기반 아키텍처의 세 요소</h2>\n<p>이벤트 기반 아키텍처를 구성할 때 중요한 역할을 하는 세 가지 요소는 아래와 같습니다.</p>\n<h3 id=\"이벤트-생성자퍼블리셔\"><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%83%9D%EC%84%B1%EC%9E%90%ED%8D%BC%EB%B8%94%EB%A6%AC%EC%85%94\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>이벤트 생성자/퍼블리셔</h3>\n<p>이벤트 생성자/퍼블리셔는 이벤트가 발생하는 근원입니다. 이벤트만 발생시킬 수 있다면 무엇이든 이벤트 생성자가 될 수 있죠. 아래 그림은 지난 2018년 <a href=\"https://event.openinfradays.kr/2018/about/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">오픈 인프라 데이즈</a>에서 발표했던 <a href=\"https://event.openinfradays.kr/2018/session1/track_4_0\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">클라우드이벤트 CloudEvents</a> 발표 내용의 일부를 캡쳐한 것인데요, 아래 그림에서는 라즈베리파이 장치에서 이벤트를 생성하는 것에 대해 묘사합니다.</p>\n<p><img src=\"https://sa0blogs.blob.core.windows.net/aliencube/2021/01/provisioning-eventgrid-subscription-and-logicapp-handler-using-azure-cli-02.png\" alt=\"이벤트 생성자 Event Publisher\"></p>\n<h3 id=\"이벤트-구독자섭스크라이버처리자핸들러\"><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EA%B5%AC%EB%8F%85%EC%9E%90%EC%84%AD%EC%8A%A4%ED%81%AC%EB%9D%BC%EC%9D%B4%EB%B2%84%EC%B2%98%EB%A6%AC%EC%9E%90%ED%95%B8%EB%93%A4%EB%9F%AC\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>이벤트 구독자/섭스크라이버/처리자/핸들러</h3>\n<p>이벤트 구독자와 처리자는 엄밀히 말하면 다른 것이긴 하지만, 보통은 구독하면서 동시에 해당 이벤트를 처리하기 때문에 같은 것드로 봐도 큰 무리는 없습니다. 아래 그림에서는 이벤트 생성자가 보낸 이벤트를 받아 시각화 처리를 하는 형태를 보여줍니다.</p>\n<p><img src=\"https://sa0blogs.blob.core.windows.net/aliencube/2021/01/provisioning-eventgrid-subscription-and-logicapp-handler-using-azure-cli-03.png\" alt=\"이벤트 구독자 Event Subscriber\"></p>\n<h3 id=\"이벤트-중개자브로커\"><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%A4%91%EA%B0%9C%EC%9E%90%EB%B8%8C%EB%A1%9C%EC%BB%A4\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>이벤트 중개자/브로커</h3>\n<p>일반적으로 이 이벤트 생성자와 구독자 사이에서는 직접적인 연결을 하지 않고 비동기식으로 진행하는데, 이 때 필요한 것이 바로 <a href=\"https://docs.microsoft.com/ko-kr/azure/event-grid/overview?WT.mc_id=devops-12244-juyoo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">애저 이벤트그리드</a>와 같은 이벤트 중개자입니다. 아래 그림은 바로 <a href=\"https://docs.microsoft.com/ko-kr/azure/event-grid/overview?WT.mc_id=devops-12244-juyoo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">애저 이벤트그리드</a>가 이벤트 생성자와 구독자 사이에서 어떤 역할을 하는지 보여줍니다.</p>\n<p><img src=\"https://sa0blogs.blob.core.windows.net/aliencube/2021/01/provisioning-eventgrid-subscription-and-logicapp-handler-using-azure-cli-04.png\" alt=\"이벤트 중개자 Event Broker\"></p>\n<blockquote>\n<p><a href=\"https://cloudevents.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">클라우드이벤트</a>에 대해 좀 더 알고 싶다면, <a href=\"https://youtu.be/h2_ZNTXwlVc\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">발표 영상</a>과 <a href=\"https://www.slideshare.net/openstack_kr/openinfra-days-korea-2018-track-4-cloudevents\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">발표 자료</a>를 확인해 보세요!</p>\n</blockquote>\n<h2 id=\"애저-이벤트그리드-구독자-생성하기\"><a href=\"#%EC%95%A0%EC%A0%80-%EC%9D%B4%EB%B2%A4%ED%8A%B8%EA%B7%B8%EB%A6%AC%EB%93%9C-%EA%B5%AC%EB%8F%85%EC%9E%90-%EC%83%9D%EC%84%B1%ED%95%98%EA%B8%B0\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>애저 이벤트그리드 구독자 생성하기</h2>\n<p>일반적인 CI/CD 환경에서 애저 이벤트그리드 토픽을 생성할 때에는 <a href=\"https://docs.microsoft.com/ko-kr/azure/templates/microsoft.eventgrid/topics?WT.mc_id=devops-12244-juyoo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ARM 템플릿</a>을 이용하면 쉽습니다. 하지만, 이벤트그리드 구독을 생성하는 <a href=\"https://docs.microsoft.com/ko-kr/azure/templates/microsoft.eventgrid/eventsubscriptions?WT.mc_id=devops-12244-juyoo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ARM 템플릿</a>은 내가 생성한 이벤트그리드 토픽을 지정할 수 없기 때문에 여기서는 안타깝지만 사용할 수 없습니다. 대신, <a href=\"https://docs.microsoft.com/ko-kr/cli/azure/what-is-azure-cli?WT.mc_id=devops-12244-juyoo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">애저 CLI</a>를 사용해서 내가 지정한 토픽에 대해 구독을 생성하면 됩니다.</p>\n<hr>\n<p><strong><em>추가:</em></strong></p>\n<p>정확하게는 이벤트그리드 구독 리소스를 생성하면서 토픽을 지정할 수 있는 방법이 사실 두 가지가 있습니다.</p>\n<h3 id=\"스코프-지정하기-권장하는-방법\"><a href=\"#%EC%8A%A4%EC%BD%94%ED%94%84-%EC%A7%80%EC%A0%95%ED%95%98%EA%B8%B0-%EA%B6%8C%EC%9E%A5%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>스코프 지정하기 (권장하는 방법)</h3>\n<p>위에 언급한 이벤트그리드 구독용 <a href=\"https://docs.microsoft.com/ko-kr/azure/templates/microsoft.eventgrid/eventsubscriptions?WT.mc_id=devops-12244-juyoo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ARM 템플릿</a>을 사용하기 위해서는 <code class=\"language-text\">scope</code> 속성값을 지정해 주면 됩니다 (line #7). ARM 템플릿을 <a href=\"https://github.com/Azure/bicep\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">bicep</a>으로 구현한 샘플 코드는 대략 아래와 같습니다.</p>\n<div class=\"gist-embed\">\n    <html><head></head><body><div id=\"gist107199923\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-06-az-eventgrid-event-subscription-create-1-bicep\" class=\"file my-2\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-text  \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n      <tbody><tr>\n        <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-LC1\" class=\"blob-code blob-code-inner js-file-line\">resource evtgrdtopic 'Microsoft.EventGrid/topics@2020-06-01' = {</td>\n      </tr>\n      <tr>\n        <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-LC2\" class=\"blob-code blob-code-inner js-file-line\">    name: 'my-eventgrid-topic'</td>\n      </tr>\n      <tr>\n        <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-LC3\" class=\"blob-code blob-code-inner js-file-line\">}</td>\n      </tr>\n      <tr>\n        <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-LC4\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-L5\" class=\"blob-num js-line-number\" data-line-number=\"5\"></td>\n        <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-LC5\" class=\"blob-code blob-code-inner js-file-line\">resource evtgrdsub 'Microsoft.EventGrid/eventSubscriptions@2020-06-01' = {</td>\n      </tr>\n      <tr>\n        <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-L6\" class=\"blob-num js-line-number\" data-line-number=\"6\"></td>\n        <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-LC6\" class=\"blob-code blob-code-inner js-file-line\">    name: 'my-eventgrid-sub'</td>\n      </tr>\n      <tr>\n        <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-L7\" class=\"blob-num js-line-number\" data-line-number=\"7\"></td>\n        <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-LC7\" class=\"blob-code blob-code-inner js-file-line highlighted\">    scope: evtgrdtopic</td>\n      </tr>\n      <tr>\n        <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-L8\" class=\"blob-num js-line-number\" data-line-number=\"8\"></td>\n        <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-LC8\" class=\"blob-code blob-code-inner js-file-line\">    ...</td>\n      </tr>\n      <tr>\n        <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-L9\" class=\"blob-num js-line-number\" data-line-number=\"9\"></td>\n        <td id=\"file-06-az-eventgrid-event-subscription-create-1-bicep-LC9\" class=\"blob-code blob-code-inner js-file-line\">}</td>\n      </tr>\n</tbody></table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039/raw/21181e84f2d9d9ee3c3014a22c4ad7995f60d211/06-az-eventgrid-event-subscription-create-1.bicep\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039#file-06-az-eventgrid-event-subscription-create-1-bicep\">06-az-eventgrid-event-subscription-create-1.bicep</a>\n        hosted with ❤ by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</body></html>\n</div>\n<h3 id=\"하위-리소스-타입-지정하기-권장하지는-않지만-허용되는-방법\"><a href=\"#%ED%95%98%EC%9C%84-%EB%A6%AC%EC%86%8C%EC%8A%A4-%ED%83%80%EC%9E%85-%EC%A7%80%EC%A0%95%ED%95%98%EA%B8%B0-%EA%B6%8C%EC%9E%A5%ED%95%98%EC%A7%80%EB%8A%94-%EC%95%8A%EC%A7%80%EB%A7%8C-%ED%97%88%EC%9A%A9%EB%90%98%EB%8A%94-%EB%B0%A9%EB%B2%95\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>하위 리소스 타입 지정하기 (권장하지는 않지만 허용되는 방법)</h3>\n<p>또는 아래와 같이 하위 리소스 타입으로 구현을 할 수도 있습니다. 이 떄는 <code class=\"language-text\">scope</code> 속성값이 필요하진 않지만, 리소스 타입과 이름을 좀 더 길게 정해줘야 하는 번거로움이 있습니다 (line #6-7).</p>\n<div class=\"gist-embed\">\n    <html><head></head><body><div id=\"gist107199923\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-07-az-eventgrid-event-subscription-create-2-bicep\" class=\"file my-2\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-text  \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n      <tbody><tr>\n        <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-LC1\" class=\"blob-code blob-code-inner js-file-line\">resource evtgrdtopic 'Microsoft.EventGrid/topics@2020-06-01' = {</td>\n      </tr>\n      <tr>\n        <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-LC2\" class=\"blob-code blob-code-inner js-file-line\">    name: 'my-eventgrid-topic'</td>\n      </tr>\n      <tr>\n        <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-LC3\" class=\"blob-code blob-code-inner js-file-line\">    ...</td>\n      </tr>\n      <tr>\n        <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-LC4\" class=\"blob-code blob-code-inner js-file-line\">}</td>\n      </tr>\n      <tr>\n        <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-L5\" class=\"blob-num js-line-number\" data-line-number=\"5\"></td>\n        <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-LC5\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-L6\" class=\"blob-num js-line-number\" data-line-number=\"6\"></td>\n        <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-LC6\" class=\"blob-code blob-code-inner js-file-line highlighted\">resource evtgrdsub 'Microsoft.EventGrid/topics/providers/eventSubscriptions@2020-06-01' = {</td>\n      </tr>\n      <tr>\n        <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-L7\" class=\"blob-num js-line-number\" data-line-number=\"7\"></td>\n        <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-LC7\" class=\"blob-code blob-code-inner js-file-line highlighted\">    name: '${evtgrdtopic.name}/Microsoft.EventGrid/my-eventgrid-sub'</td>\n      </tr>\n      <tr>\n        <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-L8\" class=\"blob-num js-line-number\" data-line-number=\"8\"></td>\n        <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-LC8\" class=\"blob-code blob-code-inner js-file-line\">    ...</td>\n      </tr>\n      <tr>\n        <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-L9\" class=\"blob-num js-line-number\" data-line-number=\"9\"></td>\n        <td id=\"file-07-az-eventgrid-event-subscription-create-2-bicep-LC9\" class=\"blob-code blob-code-inner js-file-line\">}</td>\n      </tr>\n</tbody></table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039/raw/21181e84f2d9d9ee3c3014a22c4ad7995f60d211/07-az-eventgrid-event-subscription-create-2.bicep\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039#file-07-az-eventgrid-event-subscription-create-2-bicep\">07-az-eventgrid-event-subscription-create-2.bicep</a>\n        hosted with ❤ by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</body></html>\n</div>\n<p>따라서, 위와 같은 방식으로 애저 이벤트그리드 구독 리소스를 프로비저닝해도 됩니다. 다만, 이 포스트는 애저 CLI에 초점을 맞추도록 하겠습니다.</p>\n<hr>\n<h2 id=\"애저-cli-사전-준비사항\"><a href=\"#%EC%95%A0%EC%A0%80-cli-%EC%82%AC%EC%A0%84-%EC%A4%80%EB%B9%84%EC%82%AC%ED%95%AD\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>애저 CLI 사전 준비사항</h2>\n<p><a href=\"https://docs.microsoft.com/ko-kr/cli/azure/what-is-azure-cli?WT.mc_id=devops-12244-juyoo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">애저 CLI</a>로 이벤트그리드 구독 리소스를 프로비저닝하기 위해서는 아래 <a href=\"https://docs.microsoft.com/ko-kr/cli/azure/azure-cli-extensions-list?WT.mc_id=devops-12244-juyoo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">확장기능</a>을 먼저 설치해야 합니다. 여기서 <a href=\"https://github.com/Azure/azure-cli-extensions/tree/master/src/logic\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Logic</a>은 <a href=\"https://docs.microsoft.com/ko-kr/azure/logic-apps/logic-apps-overview?WT.mc_id=devops-12244-juyoo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">애저 로직앱</a>을 위한 것인데, 이 포스트에서는 이벤트 처리자로서 로직앱을 사용하기 때문입니다.</p>\n<ul>\n<li><a href=\"https://github.com/Azure/azure-cli-extensions/tree/master/src/eventgrid\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">EventGrid</a></li>\n<li><a href=\"https://github.com/Azure/azure-cli-extensions/tree/master/src/logic\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Logic</a></li>\n</ul>\n<blockquote>\n<p>이 두 확장기능은 이 글을 쓰는 현재 프리뷰 기능이며 언제든 구현이 바뀔 수 있다는 점 잊지 마세요!</p>\n</blockquote>\n<h2 id=\"애저-cli-명령어\"><a href=\"#%EC%95%A0%EC%A0%80-cli-%EB%AA%85%EB%A0%B9%EC%96%B4\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>애저 CLI 명령어</h2>\n<p>먼저 <a href=\"https://docs.microsoft.com/ko-kr/azure/logic-apps/logic-apps-overview?WT.mc_id=devops-12244-juyoo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">애저 로직앱</a>을 이벤트 처리자로 사용하기 위해서는 로직앱의 엔드포인트 URL을 알아내야 합니다. 로직앱은 특성상 엔드포인트 뒤에 항상 SAS 토큰이 붙어오기 때문에 이를 함께 알아내야 합니다. 먼저 엔드포인트를 찾고자 하는 로직앱의 리소스 ID를 아래와 같이 <code class=\"language-text\">az logic workflow show</code> 명령어를 통해 알아냅니다.</p>\n<div class=\"gist-embed\">\n    <div id=\"gist107199923\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-01-az-logic-workflow-show-sh\" class=\"file my-2\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-shell  \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip>\n      <tr>\n        <td id=\"file-01-az-logic-workflow-show-sh-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-01-az-logic-workflow-show-sh-LC1\" class=\"blob-code blob-code-inner js-file-line\">logicAppResourceId=<span class=\"pl-s\"><span class=\"pl-pds\">$(</span>az logic workflow show \\</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-01-az-logic-workflow-show-sh-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-01-az-logic-workflow-show-sh-LC2\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">  -g <span class=\"pl-k\">&lt;</span>resource_group_name<span class=\"pl-k\">&gt;</span> \\</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-01-az-logic-workflow-show-sh-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-01-az-logic-workflow-show-sh-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">  -n <span class=\"pl-k\">&lt;</span>logic_app_name<span class=\"pl-k\">&gt;</span> \\</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-01-az-logic-workflow-show-sh-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-01-az-logic-workflow-show-sh-LC4\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">  --query <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>id<span class=\"pl-pds\">&quot;</span></span> -o tsv<span class=\"pl-pds\">)</span></span></td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039/raw/21181e84f2d9d9ee3c3014a22c4ad7995f60d211/01-az-logic-workflow-show.sh\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039#file-01-az-logic-workflow-show-sh\">01-az-logic-workflow-show.sh</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</div>\n<p>그 다음에는 <code class=\"language-text\">az rest</code> 명령어를 통해 SAS 토큰이 붙어 있는 엔드포인트 값을 알아냅니다.</p>\n<div class=\"gist-embed\">\n    <div id=\"gist107199923\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-02-az-rest-sh\" class=\"file my-2\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-shell  \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip>\n      <tr>\n        <td id=\"file-02-az-rest-sh-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-02-az-rest-sh-LC1\" class=\"blob-code blob-code-inner js-file-line\">logicAppEndpoint=<span class=\"pl-s\"><span class=\"pl-pds\">$(</span>az rest \\</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-02-az-rest-sh-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-02-az-rest-sh-LC2\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">  -m POST \\</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-02-az-rest-sh-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-02-az-rest-sh-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">  -u <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>https://management.azure.com<span class=\"pl-smi\">$logicAppResourceId</span>/triggers/manual/listCallbackUrl?api-version=2016-06-01<span class=\"pl-pds\">&quot;</span></span> \\</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-02-az-rest-sh-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-02-az-rest-sh-LC4\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">  --query <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>value<span class=\"pl-pds\">&quot;</span></span> -o tsv<span class=\"pl-pds\">)</span></span></td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039/raw/21181e84f2d9d9ee3c3014a22c4ad7995f60d211/02-az-rest.sh\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039#file-02-az-rest-sh\">02-az-rest.sh</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</div>\n<p>이제 로직앱을 이벤트 처리자로 사용하기 위한 준비는 끝났습니다. 다음 순서는 이벤트그리드 토픽의 리소스 ID를 아래와 같이 <code class=\"language-text\">az eventgrid topic show</code> 명령어를 통해 알아냅니다.</p>\n<div class=\"gist-embed\">\n    <div id=\"gist107199923\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-03-az-eventgrid-topic-show-sh\" class=\"file my-2\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-shell  \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip>\n      <tr>\n        <td id=\"file-03-az-eventgrid-topic-show-sh-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-03-az-eventgrid-topic-show-sh-LC1\" class=\"blob-code blob-code-inner js-file-line\">eventGridTopicId=<span class=\"pl-s\"><span class=\"pl-pds\">$(</span>az eventgrid topic show \\</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-03-az-eventgrid-topic-show-sh-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-03-az-eventgrid-topic-show-sh-LC2\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">  -g <span class=\"pl-k\">&lt;</span>resource_group_name<span class=\"pl-k\">&gt;</span> \\</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-03-az-eventgrid-topic-show-sh-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-03-az-eventgrid-topic-show-sh-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">  -n <span class=\"pl-k\">&lt;</span>eventgrid_topic_name<span class=\"pl-k\">&gt;</span> \\</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-03-az-eventgrid-topic-show-sh-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-03-az-eventgrid-topic-show-sh-LC4\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">  --query <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>id<span class=\"pl-pds\">&quot;</span></span> -o tsv<span class=\"pl-pds\">)</span></span></td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039/raw/21181e84f2d9d9ee3c3014a22c4ad7995f60d211/03-az-eventgrid-topic-show.sh\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039#file-03-az-eventgrid-topic-show-sh\">03-az-eventgrid-topic-show.sh</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</div>\n<p>이벤트그리드 구독자를 생성하기 위한 모든 준비가 끝났습니다. 아래 <code class=\"language-text\">az eventgrid event-subscription create</code> 명령어를 통해 이벤트그리드 구독자를 생성합니다. 여기서는 <a href=\"https://www.cncf.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CNCF</a>의 인큐베이팅 프로젝트인 <a href=\"https://cloudevents.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CloudEvents 스키마</a>를 사용하는 것으로 합니다.</p>\n<div class=\"gist-embed\">\n    <div id=\"gist107199923\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-04-az-eventgrid-event-subscription-create-sh\" class=\"file my-2\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-shell  \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip>\n      <tr>\n        <td id=\"file-04-az-eventgrid-event-subscription-create-sh-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-04-az-eventgrid-event-subscription-create-sh-LC1\" class=\"blob-code blob-code-inner js-file-line\">az eventgrid event-subscription create \\</td>\n      </tr>\n      <tr>\n        <td id=\"file-04-az-eventgrid-event-subscription-create-sh-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-04-az-eventgrid-event-subscription-create-sh-LC2\" class=\"blob-code blob-code-inner js-file-line\">  -n <span class=\"pl-k\">&lt;</span>eventgrid_subscription_name<span class=\"pl-k\">&gt;</span> \\</td>\n      </tr>\n      <tr>\n        <td id=\"file-04-az-eventgrid-event-subscription-create-sh-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-04-az-eventgrid-event-subscription-create-sh-LC3\" class=\"blob-code blob-code-inner js-file-line\">  --source-resource-id <span class=\"pl-smi\">$eventGridTopicId</span> \\</td>\n      </tr>\n      <tr>\n        <td id=\"file-04-az-eventgrid-event-subscription-create-sh-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-04-az-eventgrid-event-subscription-create-sh-LC4\" class=\"blob-code blob-code-inner js-file-line\">  --event-delivery-schema cloudeventschemav1_0 \\</td>\n      </tr>\n      <tr>\n        <td id=\"file-04-az-eventgrid-event-subscription-create-sh-L5\" class=\"blob-num js-line-number\" data-line-number=\"5\"></td>\n        <td id=\"file-04-az-eventgrid-event-subscription-create-sh-LC5\" class=\"blob-code blob-code-inner js-file-line\">  --endpoint-type webhook \\</td>\n      </tr>\n      <tr>\n        <td id=\"file-04-az-eventgrid-event-subscription-create-sh-L6\" class=\"blob-num js-line-number\" data-line-number=\"6\"></td>\n        <td id=\"file-04-az-eventgrid-event-subscription-create-sh-LC6\" class=\"blob-code blob-code-inner js-file-line\">  --endpoint <span class=\"pl-smi\">$logicAppEndpoint</span></td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039/raw/21181e84f2d9d9ee3c3014a22c4ad7995f60d211/04-az-eventgrid-event-subscription-create.sh\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039#file-04-az-eventgrid-event-subscription-create-sh\">04-az-eventgrid-event-subscription-create.sh</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</div>\n<p>위와 같은 방법으로 하면 곧바로 애저 이벤트그리드 구독자 리소스를 프로비저닝할 수 있습니다. 위 명령어를 한줄로 합치면 아래와 같습니다.</p>\n<div class=\"gist-embed\">\n    <div id=\"gist107199923\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-05-one-liner-sh\" class=\"file my-2\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-shell  \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip>\n      <tr>\n        <td id=\"file-05-one-liner-sh-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-05-one-liner-sh-LC1\" class=\"blob-code blob-code-inner js-file-line\">az eventgrid event-subscription create \\</td>\n      </tr>\n      <tr>\n        <td id=\"file-05-one-liner-sh-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-05-one-liner-sh-LC2\" class=\"blob-code blob-code-inner js-file-line\">  -n <span class=\"pl-k\">&lt;</span>eventgrid_subscription_name<span class=\"pl-k\">&gt;</span> \\</td>\n      </tr>\n      <tr>\n        <td id=\"file-05-one-liner-sh-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-05-one-liner-sh-LC3\" class=\"blob-code blob-code-inner js-file-line\">  --source-resource-id <span class=\"pl-s\"><span class=\"pl-pds\">$(</span>az eventgrid topic show \\</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-05-one-liner-sh-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-05-one-liner-sh-LC4\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">    -g <span class=\"pl-k\">&lt;</span>resource_group_name<span class=\"pl-k\">&gt;</span> \\</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-05-one-liner-sh-L5\" class=\"blob-num js-line-number\" data-line-number=\"5\"></td>\n        <td id=\"file-05-one-liner-sh-LC5\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">    -n <span class=\"pl-k\">&lt;</span>eventgrid_topic_name<span class=\"pl-k\">&gt;</span> \\</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-05-one-liner-sh-L6\" class=\"blob-num js-line-number\" data-line-number=\"6\"></td>\n        <td id=\"file-05-one-liner-sh-LC6\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">    --query <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>id<span class=\"pl-pds\">&quot;</span></span> -o tsv<span class=\"pl-pds\">)</span></span> \\</td>\n      </tr>\n      <tr>\n        <td id=\"file-05-one-liner-sh-L7\" class=\"blob-num js-line-number\" data-line-number=\"7\"></td>\n        <td id=\"file-05-one-liner-sh-LC7\" class=\"blob-code blob-code-inner js-file-line\">  --event-delivery-schema cloudeventschemav1_0 \\</td>\n      </tr>\n      <tr>\n        <td id=\"file-05-one-liner-sh-L8\" class=\"blob-num js-line-number\" data-line-number=\"8\"></td>\n        <td id=\"file-05-one-liner-sh-LC8\" class=\"blob-code blob-code-inner js-file-line\">  --endpoint-type webhook \\</td>\n      </tr>\n      <tr>\n        <td id=\"file-05-one-liner-sh-L9\" class=\"blob-num js-line-number\" data-line-number=\"9\"></td>\n        <td id=\"file-05-one-liner-sh-LC9\" class=\"blob-code blob-code-inner js-file-line\">  --endpoint <span class=\"pl-s\"><span class=\"pl-pds\">$(</span>az rest \\</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-05-one-liner-sh-L10\" class=\"blob-num js-line-number\" data-line-number=\"10\"></td>\n        <td id=\"file-05-one-liner-sh-LC10\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">    -m POST \\</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-05-one-liner-sh-L11\" class=\"blob-num js-line-number\" data-line-number=\"11\"></td>\n        <td id=\"file-05-one-liner-sh-LC11\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">    -u <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>https://management.azure.com<span class=\"pl-s\"><span class=\"pl-pds\">$(</span>az logic workflow show \\</span></span></span></td>\n      </tr>\n      <tr>\n        <td id=\"file-05-one-liner-sh-L12\" class=\"blob-num js-line-number\" data-line-number=\"12\"></td>\n        <td id=\"file-05-one-liner-sh-LC12\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\"><span class=\"pl-s\"><span class=\"pl-s\">      -g <span class=\"pl-k\">&lt;</span>resource_group_name<span class=\"pl-k\">&gt;</span> \\</span></span></span></td>\n      </tr>\n      <tr>\n        <td id=\"file-05-one-liner-sh-L13\" class=\"blob-num js-line-number\" data-line-number=\"13\"></td>\n        <td id=\"file-05-one-liner-sh-LC13\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\"><span class=\"pl-s\"><span class=\"pl-s\">      -n <span class=\"pl-k\">&lt;</span>logic_app_name<span class=\"pl-k\">&gt;</span> \\</span></span></span></td>\n      </tr>\n      <tr>\n        <td id=\"file-05-one-liner-sh-L14\" class=\"blob-num js-line-number\" data-line-number=\"14\"></td>\n        <td id=\"file-05-one-liner-sh-LC14\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\"><span class=\"pl-s\"><span class=\"pl-s\">      --query <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>id<span class=\"pl-pds\">&quot;</span></span> -o tsv<span class=\"pl-pds\">)</span></span>/triggers/manual/listCallbackUrl?api-version=2016-06-01<span class=\"pl-pds\">&quot;</span></span> \\</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-05-one-liner-sh-L15\" class=\"blob-num js-line-number\" data-line-number=\"15\"></td>\n        <td id=\"file-05-one-liner-sh-LC15\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-s\">    --query <span class=\"pl-s\"><span class=\"pl-pds\">&quot;</span>value<span class=\"pl-pds\">&quot;</span></span> -o tsv<span class=\"pl-pds\">)</span></span></td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039/raw/21181e84f2d9d9ee3c3014a22c4ad7995f60d211/05-one-liner.sh\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/justinyoo/8865213b31baeda9f7c1ad258351a039#file-05-one-liner-sh\">05-one-liner.sh</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div>\n</div>\n<hr>\n<p>지금까지 이벤트그리드 구독자를 프로비저닝하고 로직앱을 그 처리자로 설정하기 위해 애저 CLI를 이용하는 방법에 대해 알아 보았습니다. 이를 조금 더 활용하면 <a href=\"https://docs.github.com/en/free-pro-team@latest/actions\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">깃헙 액션</a>과 같은 CI/CD 파이프라인에서도 손쉽게 통합시킬 수 있을 것입니다.</p>\n<h2 id=\"더-궁금하다면\"><a href=\"#%EB%8D%94-%EA%B6%81%EA%B8%88%ED%95%98%EB%8B%A4%EB%A9%B4\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>더 궁금하다면...</h2>\n<ul>\n<li>애저 클라우드에 관심이 있으신가요? ➡️ <a href=\"https://azure.microsoft.com/ko-kr/free/?WT.mc_id=devops-12244-juyoo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">무료 애저 계정 생성하기</a></li>\n<li>애저 클라우드 무료 온라인 강의 코스를 들어 보세요! ➡️ <a href=\"https://docs.microsoft.com/ko-kr/learn/?WT.mc_id=devops-12244-juyoo\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Microsoft Learn</a></li>\n<li>마이크로소프트 개발자 유튜브 채널 ➡️ <a href=\"https://www.youtube.com/channel/UCdgR-b2t7Byu_UGrHnu-T0g\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Microsoft Developer Korea</a></li>\n</ul>\n","humanTime":"06 January 2021","datetime":"Wed Jan 06 2021 12:00:00 UTC+00:00","canonical_url":"https://blog.aliencube.org/ko/2021/01/06/provisioning-eventgrid-subscription-and-logicapp-handler-using-azure-cli/","timeToRead":8,"tags":[{"id":"devops","title":"devops","path":"/tags/devops/"},{"id":"azure-cli","title":"azure-cli","path":"/tags/azure-cli/"},{"id":"azure-logic-apps","title":"azure-logic-apps","path":"/tags/azure-logic-apps/"},{"id":"azure-eventgrid","title":"azure-eventgrid","path":"/tags/azure-eventgrid/"},{"id":"github-actions","title":"github-actions","path":"/tags/github-actions/"}],"category":{"id":"Azure","title":"Azure","path":"/categories/azure/","belongsTo":{"totalCount":4,"edges":[{"node":{"title":"공정한 & 편향없는 AI를 위한 Fairlearn 및 애저 MLOps 도구 활용","path":"/posts/2021/01/26/towards-fairness-ai-with-fairlearn-and-azure-mlops/"}},{"node":{"title":"애저 펑션과 애저 이벤트그리드간 CloudEvents 형식 이벤트 데이터 주고받기","path":"/posts/2021/01/19/cloudevents-for-azure-eventgrid-via-azure-functions/"}},{"node":{"title":"애저 DevOps 파이프라인을 리팩토링하는 6가지 방법","path":"/posts/2021/01/12/6-ways-refactoring-azure-devops-pipelines/"}},{"node":{"title":"애저 CLI를 이용해 애저 이벤트그리드 구독 및 로직앱 이벤트 핸들러 프로비저닝하기","path":"/posts/2021/01/06/provisioning-eventgrid-subscription-and-logicapp-handler-using-azure-cli/"}}]}},"author":[{"id":"justin-yoo","name":"유저스틴","image":{"type":"image","mimeType":"image/png","src":"/developerkorea/assets/static/justin-yoo.0d7bb5f.d8fcc9687c70820fe6d9bd3801483455.png","size":{"width":500,"height":500},"sizes":"(max-width: 500px) 100vw, 500px","srcset":["/developerkorea/assets/static/justin-yoo.0d7bb5f.d8fcc9687c70820fe6d9bd3801483455.png 500w"],"dataUri":"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 500 500' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-6a0325b746fa0b3948747e4a6f689de9'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-6a0325b746fa0b3948747e4a6f689de9)' width='500' height='500' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC%2baJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAgAElEQVRo3pWZd1RT67b2ueccy7YgHQKE0HsvYkdFsaFYEKUI0nsnlPSEhBI6offeISgdpPeQ0JFi3%2bfse84Yt/x3v7%2b/udaCiLq3d9893rH2Soz4/J75zPm%2bK0jMz68sLq4tLa0LhVvLy9srK7tra%2b/Ea339/fr6h0Pr459Za2sfflyrq%2b/R9W5lZW95eVck2hGJtoWwlt4Kl7YEgk3B4oZgYWNxfm1hfm1%2bbmVudnl2RjgzvTQ9JZiaXJwYnx8fmxsbnR59M/VmZHJ4aHxocGyg/43E7KxoYWFtEf6yYFMofLu8vLO6undIPQKwsYGtTxsbH9H1CVugFbv%2bEcNhmAOA9ysr%2bwzLwm0RLATg7ZJga2lxEwVYX5j7HYDJiYWJcQCYAYCR4QkAGBwYRQBmZoTz86sLC%2bvAAADgCgBg0lHR2FWs%2b8NhgMMkf6YO3wCIdpdFCAD8o0tLW8hCAUAJCrA6PwcAIgCYmRYDzI%2bNzmIVAIb9CgDAHHx6HgGAnwIAWIpQ48WW/47oP2L4Qes7uPnxTQRAiKYIAxBsIgCLKMB%2bhEQ/VAADmP4mQtPTwtnZFWCAvwk/CH4cBnBY9%2bbmZ/T6M4ADie/gw7u7v%2b3t/fv29j/evfsn3Ozs/AZgIF0kgujvIgDLSAWQNhAiPXAAsLEIFYAegArMrs7NrmAV%2bBZgDgP4WoHx8YWpKYRhfn4N2kBcASz0IBpdn7HrH6kHcTs7/4C1t/fPmZnVzs7%2bxERaRHhMZERscFB4R0cvqAS58Ke7u/8OACLE%2b10hLAAQHDQx0gAYwCoCMLPyuxWANvimAqOjc5OTSwAAFTgE8B6z/xDA55%2bE5/Pn/%2bofmLK/ftPN1cPh5m0pyVOy0lLysjLSZ87ISksrKSiYGJmctbF95uKal1O4urK3ufVFKNwRLu3nRyhAABaRCiANcNDEfxQhAIA%2bPgAYn1iYmRGB/Yd7AG2Aj/%2bremwKra19rK5uuXL56i/HjkqePIFIl5ORg/9JSkqePi156uSpEyeP/O1vf/nLv0lISMhISz9%2b5NzSzN/Z/vvmxuclGEECFGBxc2FxHRtBUAHU/p/1wFcArInF6rExinUwqv5/wXi3908ul6evoycvI62moqyGV1FTVVFSkMMpKSgpIjVQVJBXUkTupM5ISkvB5fQvx49rENSfI9UogmqA90uo/Wj7rs8jHbyKzlCsAZamJg/vA1gFJr%2bOUdjFBIKv3qObwOH8fDxg%2bHx4YfZDpqOjE1SUFPE4JXW8ihZBTVdLw0BHSwOvoqmmqqmmoq6KwysrAg9ccYoKCvKysIDqxC/Hjx7566kTv2SkZ29ufATFSAMsiNVDBZZnp0UzU1/tB/UHANPYPrBfAWz/Ent/aIB%2bB/ANA0wbaMem5ld6unog10BXRx90q6nqa6pdtja%2bYWty46zR3QtmD%2b0s7cx17cx1zhtpauNxyggJDhjOSJ6CjP1y7Mjtm7dGhqfWoA6Lm0h%2b9gFW5iA/06LpKaE4PBjAQQMgIwgq0N83IoGdIA7UY/vux9%2brwKfD9m9tfREt7121u66BV9XX1jLS0bA21HK5aUv2f5gW4VJAdK2keFWRX1QnuWUF3MsLvMvxvuVlb37ZmKBPUFaSl4UmgTqcPnnizOmTgESMjYdBhPTu/BqqHhpgeWZaiNovENuPqv86Q/cjBOoPjH9/kOyPh8z%2bPjzIgui/%2b1dMTCJeWUlbg2Brqh/j6sAjutaz/GZqSXM1CbPlsbOlMeO80MEMPz7dvTXRpSXBpSz4Dv2JrccVAzMNJVVFOXlZGFGAcPzUyROmJiaTE4uwCczNYvavzCD2L00j6vfTP4ocImZGhsX5QdQjFTh0avi6bf1kwQd2d36LjCTiVZS11NVNdQgcP8e%2bzOCxkti5OspaR8pmV6qonjJTGD6ZHzIMALTnnTRXPtWtOfZR4ctrDCcrzwtaVurymorS8lKSp0%2bdgAUDi0ljra2%2bm5leRuyfXp6ZQgCmJgTi/GD2Q96Gh77ajwAcHNSwufn55wDQuLC58rtHFOTkVJUUYeyEPrwynBW0WJe4wU/b7c//MFLyYaRs61WWsJY0XRA%2bnhPYz3nZx3k5kObbRXWrCXVkP7SKvKb3yAx3QUNWT0laRvIk/Hf0yN9winItzZ2w34F0dP5A%2bpfE9ovH//DQ1y0M1Pf1DiEAm5sf0Ov%2bYeEnAHBY%2bPT5P5nMdGnJU1oa6udNdcuIz0YLI9Y6OO%2bGC98PFX8YKf80Vv32dZ6wjjpdHDmRHzKWGzyaEzTE9eNTXGtD7qU8sk64Zex7XuO%2bsdI1HUVteaQIUlJSsEU43b%2b/ItqZnoThA0v43fA5sH9c3L6wenv2AT4ebFuff74QgE//ERwcKS8jpaul%2beT62epEt4mS%2bJ3%2bvHeDRR9Hyj6%2bqfgwUrnawp3ixUzyIt9kBY7lBI3nhw2kercSHxd5XmU6msc7GEZc03M2V7ljqHSOIIOTkTxzRvKvf/k3C3Mz5PwzvYzaD%2bERHLYf1I8MTw4Nfk1/X%2b9wz%2btBiR%2bPDD9JP3wYpqez83MAMDMy8HS0q6F6CZtT3o%2bUQ3I%2bjVa8Gyxea09bqqdPFccOpgcNpAUOZwSM5YWOZAZ0JroUelxhOprF2utHXtd/bom/a6h4UUNWXf6MtLTU8WPHYK/jd/QIFjYhPOL2PQgPZv/k4IA4PMNg/%2btXAxIHTypfw/Pd/WGAt29/nV/YsLSwUlaUP29t4XHnYh3Lf42fvdtfvDdUujtQsMHPWO/K3uDnLbekjuaE93P8Bzg%2bQ9yACV5kf6pvbdh9jpN1zHV9v4uartZqd4wUoRM0FaRkzpw%2bdeokHDXYTM7K8g54P4XYv392EKsH%2bwf69%2b0H9WIA8Vn/o/jkfHgd7mA4J3e/GlFVweNVcBesLV7cvdyREbHGz1zryhI0ssfLSXMNKW%2bHanfH27aH67f6yuer6RO8qMki4mwlZao0qZvlVxbygP7knNcFbSdTFQd9pfPqMuoKUrCxnT55EtrA7bkbbKkT44tTB/kZfbMPMDQ48aP9r7r7JX58WPmO4TDA%2b/f/amrqxquqahLULE0MA584TFSQ1zvT5moZVWTf3ES/FKI/O9q3hBHekh4z15q3O1Inaslcak6fr%2bc0swJpnne875xzuWjkaK11SRd3RVvhIkFGTfY0jNMzp08DwDNnF9jREO%2bR9kUADoVn/Dv1sLr5fRJ/5mlLfPiB/au%2boVNZSRFmqK6aCsvHca2VtdTArE3yzIv2KGVF8mjBmfFeVazA5rTQN1WsD%2bPNi3XcocyI/uzItID7L25anTfSstAlWOuqWGspWRIULqnL6cufQrZkSQTgsdNDOFBg4Tk8fLDw9Pe9wdRD72L287t6v%2bmBny8YQfB41dk5gFeB85vSbRuDfo7XWkPSXEkMn%2b03Uc0WdBSI2nNmyknD2RHCZs7eUPHOQOlsOb2N%2bKw%2b5klxqGNJ6P02lncT1Yvz4prbeW1rgqytuoINTlLu9C8AAKftB46OS4INUC9u34OdCwP4JjxgPwJwcPj59Geeerff/n1yUmRqbKKqpEBztx9M8elIDapPi%2bFRgkqZoU3ZCUW0QLKXY%2bT9i0muN3lEj4lyyigvttDbnnjLNOK2RaqvYz7RnRv4MOG%2bjaMZ/qy6rA1e9gpBVl/u1LGjR6ECZ62t4IELdgDx9MR6F0s/NjcPq%2b/q7JEQnz3/DABMoZmZFUsrG2sr67iIKJdHD8lkMinUtZbhPt5A6SwnpjKC7lw/63JOn%2bV8sY7sXptHD/d/qa0ko6Uk8%2bCKsf8TO1tTQx2crIOZxh1jVRsNBRtdvJmmsh5OTk9LE4dT1lQndHW8hscAkH5gP5b%2b0R%2b9B/WdHa//DwBooT4vi3Zi3V1unLPKjg%2bK9XMtzM/IjXtcS3rUkh3UWhjdUUSLe37L/5Jh2rPLizXxbEq03w3bR2d1jLXwvi5XWZHOSe73Aq%2bbudho2mvLPjHHXdZSvH/HQVlV%2bemjx1cv2cXFJmC77%2bHhM9A/hs1NsB9T381H1MPqaH%2bFHeY%2b/lmAzS%2bby9vtRN%2bYl8/aqd4zuaEtueT6jLDenMCBwoiZGnIfN6wm4nGe142BrJCewthAt3uThbF1sU/PWxi%2beHCH/sIh2%2btGuutl8j3zoKu6z6zwDgbKMaFBRjrqevD0Iy/d0dwBz2Lf2d/fN9rbsx8eTD2/C9S/7ux41dHevQ8gXoe/4fkRYB15Evj8piCd4vu8Ls59Ni%2b8IyOmkB6w1Zu68TpjujC2j%2bU7xA2eLYl735PZW5CYHeP%2b6wivIc7ZUlP5qZV26mObQp8bPG/7TNdL6c5nI67pP7HWJYYF2hmoEc6ceHDdbnpiYWx0Htt6xer7ekd6Xg%2bJxw6WHPC%2bva27rZUvgX0B%2bLvr9763%2brCx/dvqYF9ugDMv6NFcQbSwMaWCFd5dQBR05k1Xs0aLk0Z48T2ZkV1ZUTBS5%2bqZv46WvKJ5XNaQdzDC5b%2b8Wh/u1BDq1BjxsMTnZuxNk9D7l72fPzqLl9eSOc2IjV0UbMKR880I1rvIzgWjE7P/sHrM%2b/Y2fmtLl4T4S8yfYHzzcvPXLdHGQk16M8V3pjBmqzP9w0jNSHVWRy61jh1ZQfKrogZUkXzqGMHTVWQo1peJqvGccD9bdQcDpYcWmmF3banP7CnOVxMeX/G/ddb5hu0lXeXrBoSzSlLF6dy5%2bfU3w1Ni%2byH9qP374QGAw%2brbWrtamjskfvwG8%2bckG3AmXdnbbM4dSQ%2bf4EWvNjHfD5X818rgfy4Pfhqq3mhOncgMmcqJ2ONnrzeytruz/jHTNF%2baFH/DmHzP4oUZ/pmJckOSVx3Rg%2bd9l/LA9omZqp2GrJ2ump2mcldzx9SUCIn%2b/sFhP/2vX%2b3bjyUH1ENywPvWls7mpvb/A8Chbz8/rtRnD6WFjOVHCuuS3nZnfh5r%2bm2h7%2bObhn6aT4nndVFz5l5vycehmo/Ddf8SdK%2b1pFDvWXrZaDjpyvvZELrInvNlpCGWT5GnvbsV4SJB9rK2spOlwfDA6PjowuHe7et9A%2bnHJg8WHsg9mpxOTH1TY5sE9oXrjwx/TPJhbePLRl/LXAV5gBu4WB632sx611v4abxpoYJR7HFtror%2bZaJxg18yVZM2Us4Z4hGro12czVWvass4GePCLuvme9j3p4b00l%2bmPbZ5ZIw7T5C5gJcJcLwBp%2biDU%2bcEGh5Qj9iPqT/oWsR4SA6mvqG%2bFQDe/QjwY0EO7j%2bsw83W3zdHh%2baLk7rZvnOlUYtVCauN9M2u3PqopwO5sWs9JaKuomV%2b0UIHb6YxvSMlqCzejeNxJdHJOuquBZxDo29bcN2v8Ske7IeWt3TlzqvL2SidDna6PTUjGtrvXSw8I69fDXXzB7DwYDMHNR5R39jQ1tjQWl/XLCH%2bvYN4/QQGWavv1ze/rM4uzZcyu5kvp4oiFmsThXXk2UpySfC9ifqUxbac7aGa3ZH6vdHmrd6q2VLmeD7pFellzvOrjEfnwm4YBdobh9obt5FcYZje0pO3xUvbG2qU5/ImJgSYerAf1IP9r7q/2o/lHrxvakTUN9S3gPq62iaJ1ZX3PzL8iLH6LcPa5hfR%2bFh3sv9YXthSA2WllTFdEtdO9x4sSqhJcO/NS1xqylmozVqsyZkvy3ydFMJ7cYf51M7rnO49feW4u9apntd70oKyXtg56MlbKhxnxMbMzW8MDkwM7u%2b7o2h4EPu7OvftR9V3HqhvxdTX1jRKLKO/bsB%2bDfFHACvwzg91WNv8e28RG556RY2MxbqkmZLY0fwoflpgpudtXtSLjaHq91NNnwT8X9dHREM19Rkx6ZHPbxjinxhplAY4tbF8BnMiom%2bZ2evKnsefqS6pmJgUDgyg4enHehexn9/V39mB2I%2bph/B8p76muv4bABC6jF7FDMh19QP2R9/%2bsujd5vZvo%2b1Nrznewkb6YiNtqoI4xosYK4pZaUvf7Sldayna6ajba2neaa5dyE9rDvAkXzIPO6eX5nyp2Mehg/GyPObJMxu1W/pyjrYmQ4OTI8MzaO%2bOH/Tuvv1o7/J/X31VfXVFrYRoeW//dz6H1o8F%2ba4yq2uA9GFhWtiZGjZZEiNsZszUJE1VJMw3MDb4Oe8GS36dbv401rbdXjOfzx5ixbSHv8h8coX2wCbH7UqR982i4HvhDiZPrPC2uON0InFmdnWgH%2bvd/fSjvYvYj02e/fCA%2btoWkF5b3QDqqyrrKstrJITLe8sog%2bhgrfwQqh95AHJr69fVjS81GQw%2bx3u8OHqsMHKiLH6xhb0GAAMlX8Zq/zHXudVfMVqe3JES2ckIqAx9WOp/p9TXIe/ldfLjs/dMcBfVTj%2b9fnF4eHp4eGZgYLL/d%2bx/Db0rtr%2b%2brqWupglTX42qryirlhCKdkUogwhdy8v7FTh83V8H6VpB1H%2bByD54%2bMTK3LQg%2bmkbw4vP8e3JCJptYKzys/cGCt8PFH0cqXo/WLfcWjjGI/fS/FojHtcG3eF5XeU8PedsTbAhSJvhTl%2b2tenpeTM0NN3fB%2bqhd5HRCenv6uzraO9ta%2b3%2bRn1t8773FbWgvry0qqykAgVA1zKKAQURruyBbgTmW4BlrETLexCh2dmVG/Y3ZGXkFHCqNJ/7dWSPGrL764zAwYLI5U7udh9vr7/gLT9rvS1P0Jg9nBUDB7hKv1sFL67QH1gEXtU/rylnhpe10cQdQb9KmZwU9va8QY894t7txUYnFh6IPqq%2bEYw/pL6ypKhcYkm0u4QCLGG/dTtEAnKxdO1f0QUf23r797KyKmVlnKKCkqqmXmtJ7nB2cEnss8pE1%2bZkn9HyxLWevPVXucL2rPnGzJm6jO7U8MrwJ/neNxMf2Phc0r5piDPFy1kR5G0I8vAY%2bfTx4/EJwevXbzD7QT1qfw9qfxe2Z4H9WNd%2bp76ooFRCINyBtQTrAGB/YQwojHihb%2b6urH2sb2q5c/c2/PO3HrrPvxlfqiGOlhBrSe7FUc5l8c/7CuNE/Jz51qyxShao56eGVsW4MFyv%2btub3DHDm6nJm%2bDlz6nJWCifgZ%2bgr6MFWe/rmxCHB%2bxvb3vd2oLkRxyemqoGLPegvrS4AlNfyCvaBxAzLB2UYgllQBoDfYl1CLyzBACr70sqKtMyODpa6m4BpLmFvaUG2tuerLlack96QE3C8/yIx/Usv56COH56UBvDp4Xuw3S76nPD/JaFlrkGzgyvYIU8y0ub4s787chRGWnJnKw8aGXwHnoXDc%2b%2b/U2NHVh4atDwVJbXHva%2bkFfMyyuQWFzaxtQLDi1QLzioydIBAKIefbm8%2bqGqpp6dlkymJDx44t00sDPbUfm2O3XzVdZcDXk4L7yF9iI32JHtfYv64maCm33A3bN3bXQvG6nbaKlYayhZ4eUuqsteVz9jpKogI6984pdjQYFBsAmAbnTywOh83dLc3dyE2d9aW9NUXVVfWYHMHEx9cWFZIa8E1Ofl5EsIAABdGMl3GN/VBAXbXl3/1NDcwU5lpnA54REhYaS81wMr4yXxG/xUUSt7pipxKCekg%2bFZFfckw%2b9WjNNZ14t6T85qO5/VvmeOv6Apf5Ygd01b3o4gaaypYWxpd/z4sWvX7MDsEShCZ39bK%2by7oJ6P2t%2bGqm%2borKirKK8pQ8ODqS/IL8rP5eVm50kIBG/FANgS/B6JEK0J/ClSB%2bFOUWlRKpedmc3lpLOJCTGMnKaGmu7elABBDWmxjjoPm1pp3Agvsj8ruI3qVhTgkOlhR3909sV5rUtaCpc15G7ryl1UlTTS1rn7NOTYseMXLtj6eHsz6GxQ/Kp7CBgaGzrq69qw8FRV1leg4cHUF/FKC/KLMfXZmTkSC4tbC4K3sBYPMSweFGRxaUewf7MNGOD99Nx6bUMjYn86m5udlpaZmsrlUKjxiawsekR4cZhTX7LPeF74dClxpjJppoY0VhjVlx7QFO9S6H/T57LeZW3cdR2F2waK51TP2JhZ%2bsdlHzl23NLSwt3D1cRY38TYIDQkrLK8DlIEGHW1Laj3teVlNaUlmPelqPcQnrycrNysjGyJ%2bcWt%2bQMG8RIc4kFeQmzWPiwKthuauxLIZBqTwmBRGWxaamZKWlZKakZqGjclOib0hZe7m9szTpR3npd9fbgjn%2bbRkxrwKtW/NyOkLy2I53fHyVLbXk/VwUDlngneWunkLfu75MxWANDV1fH197l//66M1CkFeSlrK3M3Nzc6jQXSoYmBoaS4EvG%2bAPO%2bEKKPqc9Iz5SYW9jEGMQLqQa65gXIS6FoTyDcbe/qpzGTw6PDwmPCiYmx6RkpLDYd%2bhhmEZPDgGrExEW99PHy8PKgJDOo5DiKrzPH7Xq%2b17XSkHulYQ%2byvG56nte7a0K4a6J%2bx5jgaK5hJn88LJzELuo5euwEgUAICPILCPS9fPm8vJyUkqKsJkHFyEDX/trV8LCIvJxCmJ4AwMsrQtXzxOq5aVwEAGXYPAwAC24gOaKV9/1DU9ys3KiYqMjYyERKQgKZGBYRkpaRAtKTU5ip3JTkVCY9mUahkzxfenh5v0jmMBgcFjMlmcEgF9Cj6S5XYm4aedioO5mqOJmr3zJSv22icctA5YKmYkXTGDO34%2bjx03iCZkhYUCwxsrKm%2bvad26dOHiOoKRvqaRnp6xgb6dlduRQcEASxKSmqyM1Goo%2bqz%2bKmZaSlpErMzm/AOsBAALAbaNbRcUFeYWlkTBQYT6IkJNESKQwylU4KiwimMEgZ2Wmp3GR2GgsAklMYrBRGVEyEy3NnTiorK5fLSUsGts3t7YGBfleHi/f0ZJ3MVG8b4a/pqt4yVr%2buKf3o6uWhhX%2bGkfN/OSVD0DLy9PYMjQgpKSvhFZecOX1CXl5WU13VUF/LyEAblqGBjv01u7iYuHzUfpCenoqoT2VzJGbm1jEGZC0gVzB%2bfvFtbUMbMSkBfmgCOZ5ETyLREhnJ1GQOHa7xSbGJ5HgWhw51SM1gQ5DoLAokChg8vTxiiFGZOenQ2XQWrbyyrLCs2DcwwFoHb6sqdUFd4ZoO7qa%2bsq3S0Qg//%2bmt/%2bfsFXNaGqdtdPahs3NweGhcfGx334CegY6k5ElVFSVtTTVDPU3AMDHWMzbWMzU1cHrgmMxkZ2fmprIR9SmsZAQAY8CuS8Ldnv5xTjoXAkNMiiNRE6lMMqxEajyNRU5OAQAKmZFEoiZQmSQmh5aRlZqRlQZZojHJEKrI6LCgEH%2bwH%2bpAppJoLJqX70vbc2cv29lZqCufV5W%2bpC5/TlXqmpZMfWNfIKX2%2bsNAvJbJOXvnh0%2bfhUdH%2bgb49g4O3nNyPHb0ryo4eYIaTleLAFky0NcyNdG3tDABkvO2VnExMRAhDpPNZjAlpmfXYE3NrM4tbAFARXVDbGJcFDEqkQqBIZHpiRR6EkiHGxI9kcGmMtlUeAmJpzPJcAOzKD0rlZuVAmCcNBYSsMhgOovKTmUxWJSCkmImJ%2bX2nRvefj4Xz9mYKUraqMpYyx0JdXmYWzdhae9jfe3pldvuj72T7O8%2bCokM8w3ya%2bvo8A8OOvo3CUUFWQJeSQ2P09fTMDDQMjbSNTMzsLIyRW5MDSLDwricVCaVJoGph8y8GVvMyMkF6fFIZkgUVB/YnEghUgCDmYQAJFNZHBoNqQm4S6YjHyAz2TR2CgMsh80BGBKS4pIoCXQ2HSFn0uqa2109nkVEhTk%2beGCqqmCFk7yqLpWdV%2bvgEnvJweXKHfdQcrFfXJaXf4h3gH9weEhZZUVMfPzxo3%2bRk5UiqCqpKCtqQZCgE1AAC3MjU2M9IwMtczNDfx8fDpMlgXnfwR%2bgMulxSXFUJpXKotCTYdJT6CwS%2bEqixiMA9EQqPQleQgVQZYAHH6BgVyryEopDh06A1JGpiVABeCckPKixtTMiOtLP39v5%2bTNrA10jqSMPzls9D6CbnX943z3WLzYrs%2bpNLKskr6CQSCYHhQfn8PKoLOaJX47ISkuqqSiqKMsTCMp6uppGhjpgvIWFkZGhtqGeBrw0NzcKCwyUGJ8UllXWJlKTYMIkoy6y0KAj7jISqQzQCmkhUWgJMIjgfSrkipZIPQBAC0Uh05LAeLgyktH6MCBjUB9qZHQor6iYnc718HR95vbcxtZW7eSR2zYW956G2j8M9orMTCnpKe9coGTU1DU01re0%2b4eGcDO5KRlcydO/wKaGV1ZQUVbA43Ha2upQBGhiSwtj0K2rhTc20DIxM7h43loiPTsTLGenJ6dw2SncZE46C4IOKkmgGOYNhQiiaSwShZFEpiZAbKB9YSJRkAih3jNIGEAcZC8pDjYK%2bAlAmJBETKIkxhCjo%2bNi84pKn7k9dXV3vXbTQVla%2bp7j87vPol0CGMSUutpXoobedTavqa2zc3J2oaiikkwnZ%2bXny8mekT5zCo%2bTx6soqqoqaWkRDAy0TZAKGFtbmRroaepoqsJLCJJEchqTm5OemceFQwE7ncVOY1JZZBiUCaQ4WEkUZPhgC5IDCwYowgD34D0sBuI3YETFhMcSoyKiQulMAKPCywQSEaIfFhFa09Dy9LlzYHDA46dPrjs4PfaK9wxPC6GUcsv7%2beMfmge2uCVtA0PDY1PT0/MLWfl5%2bcUlOJy81JmTqjh5NVUlANDUUtOHYWqib2FpAgDmZgaaBJwh%2bo5ERk56Rh6Xm5OWkZsOFYDJCA1KTIyJjgtPJMclUePBTqRfkfAg9scDGJkIliPeI9KRGygFDNDQ8KDwqJC4%2bGiYqvGJseGRIZA6eL%2bqtvGF9wu48fb1eu7p/9A9Ni6lIS6ltqhpamTxn00Dm7kVHRPTUxMzc7MLizWNja1d3SoqigAAk1Qdj4NBBBUAAGOYpFamMIiAQUdLTVNDFfY4iZyCLG5uelp2alZ%2bBuxKIBTiQaLDFhYUHRcBIwgWEmukUymJ1AQisosRESomCToBblBCSlRshI%2bfF6iEIgAeHChgw4aahEUE1dQ3hkaGh4QFwBnkicuzGw986PmvqNkt1XzB9Np/1x9InTcAAADfSURBVLxaKahqFwgW5hYFEzOzBaXF/N5%2bPF5ZWuoUVEBDTZlAUNHWUcciZGVtBsvGxgyaGK%2bioK2lJpFTmJ2WyeFmp2YXZKWksyDroJKWTCYmRPsH%2bsTFR0H0kVaGCkC0SHFx6DaMRIuBRAhqkoRudmC550v34NAAYID8wGyFYQoMgcG%2bLW3tJDrNzcMlOi7K0/vFrQcenNJBFq%2brZXBjaed/yjoWKxr5omXhkmi5Z2iIV1w48GYMIiQnI6mqrKCprqKpideB/dhI19TM0NrG/KytpTUcxC1N4E9VVRT%2bPzbiUw29GeqqAAAAAElFTkSuQmCC' /%3e%3c/svg%3e"},"path":"/authors/justin-yoo/"}]}}]}},"context":{"recordId":"4e2ea54cc157bd3f205f592564caefd1","tags":["azure-functions","azure-eventgrid","cloudevents","azure-sdk"]}}